/************************************************************************************
 * jquery.themepunch.essential.js - jQuery Plugin for esg Portfolio Slider
 * @version: 2.1.6.2 (10.11.2017)
 * @requires jQuery v1.7 or later (tested on 1.9)
 * @author ThemePunch
************************************************************************************/
//! ++++++++++++++++++++++++++++++++++++++

!function(jQuery,undefined){function punchgsReady(){esgAnimmatrix=[[".esg-none",0,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},0,{autoAlpha:1,overwrite:"all"}],[".esg-fade",.3,{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-fadeout",.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},.3,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-covergrowup",.3,{autoAlpha:1,top:"100%",marginTop:-10,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,top:"0%",marginTop:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:1,top:"100%",marginTop:-10,bottom:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipvertical",.5,{x:0,y:0,scale:1,rotationZ:0,rotationY:0,skewX:0,skewY:0,rotationX:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationX:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-flipverticalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationY:0,skewX:0,skewY:0,rotationX:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationX:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:0,autoAlpha:1,scale:1,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-fliphorizontal",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,skewX:0,skewY:0,rotationY:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-fliphorizontalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationY:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flipup",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:.8,rotationX:90,autoAlpha:0,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipupout",.5,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 0%"},.3,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"}],[".esg-flipdown",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 0%"},{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},.3,{rotationX:-90,z:0,ease:punchgs.Power2.easeOut,autoAlpha:0,overwrite:"all"},!0],[".esg-flipdownout",.5,{scale:1,rotationX:0,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},.3,{scale:1,rotationX:0,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-flipright",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:0,rotationY:90,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"0% 50%"},{scale:1,rotationY:0,autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.8,rotationY:90,ease:punchgs.Power3.easeOut,overwrite:"all"},!0],[".esg-fliprightout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"100% 50%"},{scale:1,rotationY:-90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-flipleft",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:-90,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{rotationY:0,autoAlpha:1,z:.001,scale:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,rotationY:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipleftout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"0% 50%"},{scale:1,rotationY:90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-turn",.5,{x:50,y:0,scale:0,rotationZ:0,rotationX:0,rotationY:-40,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,x:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:0,rotationY:-40,autoAlpha:1,z:0,x:50,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-turnout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{rotationY:40,scale:.6,autoAlpha:0,x:-50,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:1,rotationY:0,z:0,autoAlpha:1,x:0,rotationX:0,rotationZ:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-slide",.5,{x:-1e4,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:-1e4,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideright",.5,{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-sliderightout",.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-scaleleft",.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-scaleright",.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"0% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleft",.5,{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleftout",.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideup",.5,{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideupout",.5,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slidedown",.5,{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slidedownout",.5,{autoAlpha:1,yPercent:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,z:10,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortright",.5,{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortrightout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:30,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortleft",.5,{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortleftout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortup",.5,{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortupout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortdown",.5,{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortdownout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewright",.5,{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,skewX:-60,xPercent:-100,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewrightout",.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewleft",.5,{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:100,z:0,skewX:60,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewleftout",.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-shifttotop",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleft",.5,{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,rotationZ:90,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleftout",.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rollright",.5,{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,rotationZ:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollrightout",.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-falldown",.4,{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:-100},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.4,{yPercent:-100,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,delay:.2,overwrite:"all"}],[".esg-falldownout",.4,{autoAlpha:1,yPercent:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:100},.4,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-zoomin",.3,{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.6,z:0,rotationZ:80,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rotatescaleout",.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomintocorner",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"20% 50%"},{autoAlpha:1,scale:1.2,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:1,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomouttocorner",.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"80% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomtodefault",.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomback",.5,{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.5,{x:0,y:0,scale:.2,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoombackout",.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomfront",.5,{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.5,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomfrontout",.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-flyleft",.8,{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},{rotationY:0,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:.01,x:-40,y:0,z:300,rotationY:60,rotationX:20,overwrite:"all"}],[".esg-flyleftout",.8,{rotationY:0,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},.8,{rotationY:0,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flyright",.8,{skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},{rotationY:0,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:0,x:40,y:-40,z:300,rotationY:-60,rotationX:-40,overwrite:"all"}],[".esg-flyrightout",.8,{rotationY:0,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},.8,{rotationY:0,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-mediazoom",.3,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,scale:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomandrotate",.6,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,rotationZ:30,ease:punchgs.Power2.easeOut,overwrite:"all"},.4,{x:0,y:0,scale:1,z:0,rotationZ:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-pressback",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:.8,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{rotationY:0,autoAlpha:1,z:0,scale:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-3dturnright",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformPerspective:600},{x:-40,y:0,scale:.8,rotationZ:2,rotationX:5,rotationY:-28,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50% 40%",transformPerspective:600,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{z:0,x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,force3D:"auto",ease:punchgs.Power2.easeOut,overwrite:"all"},!0]],esgItemAnimations={"esg-item-zoomin":{enter:{time:.3,obj:{transformOrigin:"50% 50%",overwrite:"all",force3D:"auto",ease:punchgs.Power3.easeOut}},leave:{time:.3,obj:{transformOrigin:"50% 50%",scale:1,overwrite:"all",force3D:"auto",ease:punchgs.Power3.easeOut}}},"esg-item-zoomout":{enter:{time:.3,obj:{transformOrigin:"50% 50%",overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}},leave:{time:.3,obj:{transformOrigin:"50% 50%",scale:1,overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}}},"esg-item-fade":{enter:{time:.3,obj:{overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}},leave:{time:.3,obj:{opacity:1,overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}}},"esg-item-blur":{enter:{time:.3,obj:{force3D:"auto",overwrite:"all",force3D:"auto",ease:punchgs.Power2.easeOut}},leave:{time:.3,obj:{blur:0,overwrite:"all",force3D:"auto",ease:punchgs.Power2.easeOut}}},"esg-item-shift":{enter:{time:.3,obj:{overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}},leave:{time:.3,obj:{x:0,y:0,overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}}},"esg-item-rotate":{enter:{time:.3,obj:{transformOrigin:"50% 50%",overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}},leave:{time:.3,obj:{transformOrigin:"50% 50%",rotation:0,overwrite:"all",force3D:"auto",ease:punchgs.Sine.easeOut}}}}}function loadPostContent(e,t,a,o,i){var r;if(a){if("on"===t.lightboxSpinner){if(!(r=e.closest(".tp-esg-item")).data("lightboxspinner")){var n=t.container.closest(".myportfolio-container").find(".esg-loader");n.length&&(n=n.clone().css("opacity",1).appendTo(r),r.data("lightboxspinner",n))}r.data("lightboxspinner")&&r.data("lightboxspinner").css("visibility","visible")}}else jQuery.fn.esgbox&&jQuery.esgbox.showLoading();var s={action:t.loadMoreAjaxAction,client_action:"load_more_content",token:t.loadMoreAjaxToken,postid:e.data("post")};jQuery.ajax({type:"post",url:t.loadMoreAjaxUrl,dataType:"json",data:s}).done(function(n){if(n.success){var s=document.getElementById("eg-lightbox-post-content");s||((s=document.createElement("div")).id="eg-lightbox-post-content",document.body.appendChild(s));var l='<div class="eg-lightbox-post-content-inner">',u=e.data("featured"),d=n.data||"",c=e.data("posttitle");if(c&&"on"===t.lightBoxPostTitle){var p=t.lightBoxPostTitleTag||"h2";c="<"+p+">"+c+"</"+p+">"}else c="";if(u&&"on"===t.lightBoxFeaturedImg){var h=t.lightBoxFeaturedMargin.split("|"),g=t.lightBoxFeaturedWidth;h=4===h.length?h[0]+"px "+h[1]+"px "+h[2]+"px "+h[3]+"px":"0",isNaN(g)&&(g=50);var f=100-(g=parseInt(g,10));switch(f="width: "+f+"%",g="width: "+g+"%",u='<img class="esg-post-featured-img" src="'+u+'" style="width: 100%; height: auto; padding: '+h+'" />',t.lightBoxFeaturedPos){case"top":l+=u+c+d;break;case"left":l+='<div style="float: left; '+g+'">'+u+"</div>",l+='<div style="float: left; '+f+'">'+c+d+"</div>",l+='<div style="clear: both">';break;case"right":l+='<div style="float: left; '+f+'">'+c+d+"</div>",l+='<div style="float: left; '+g+'">'+u+"</div>",l+='<div style="clear: both">';break;case"bottom":l+=c+d+u}}else l+=c+d;if(s.innerHTML=l+"</div>",jQuery('.esgbox-post[href="#eg-lightbox-post-content"]').attr("href","javascript:void(0);"),e.attr("href","#eg-lightbox-post-content"),jQuery.fn.esgbox&&jQuery.esgbox.showLoading(),a)r&&r.data("lightboxspinner")&&r.data("lightboxspinner").css("visibility","hidden"),jQuery(".eg-lightbox-post-content-inner").addClass("ready"),e.click();else if(jQuery.fn.esgbox){if(jQuery.esgbox.hideLoading(),jQuery.esgbox.jumpto(o),i){var m=jQuery(".esgbox-title div");m.length&&m.text(i)}setTimeout(function(){jQuery(".eg-lightbox-post-content-inner").addClass("ready")},100)}}})}function checkBottomPos(e,t){var a=e.container.offset().top+e.container.height()+(e.contPadTop+e.contPadBottom)-jQuery(document).scrollTop(),o=jQuery(window).height(),i=jQuery(document).height();(e.lastBottomCompare!=a&&o>=a||t&&o>=a||i===o&&o>a)&&(e.lastBottomCompare=a,e.lmbut&&1!=e.lmbut.data("loading")&&(e.lmbut.data("loading",1),loadMoreItems(e)))}function createCookie(e,t,a){var o;if(a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),o="; expires="+i.toGMTString()}else o="";document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+"; path=/"}function readCookie(e){for(var t=encodeURIComponent(e)+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var i=a[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null}function checkAvailableFilters(e,t){}function checkMoreToLoad(e){var t=e.container,a=[],o=[],i=jQuery(e.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length;jQuery(e.filterGroupClass+".esg-filter-wrapper .esg-filterbutton.selected, "+e.filterGroupClass+" .esg-filter-wrapper .esg-filterbutton.selected").each(function(){var e=jQuery(this).data("fid");-1==jQuery.inArray(e,o)&&(a.push(e),o.push(e))}),0==jQuery(e.filterGroupClass+".esg-filter-wrapper .esg-filterbutton.selected, "+e.filterGroupClass+" .esg-filter-wrapper .esg-filterbutton.selected").length&&a.push(-1);for(var r=[],n=0;n<e.loadMoreItems.length;n++)jQuery.each(e.loadMoreItems[n][1],function(t,o){jQuery.each(a,function(t,a){a==o&&-1!=e.loadMoreItems[n][0]&&(0==i||1==i&&"cat-searchresult"===e.loadMoreItems[n][2])&&r.push(e.loadMoreItems[n])})});return addCountSuffix(t,e),r}function addCountSuffix(e,t){var a=jQuery(t.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-justfilteredtosearch").length,o=jQuery(t.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length;jQuery(t.filterGroupClass+".esg-filter-wrapper.eg-show-amount .esg-filterbutton").each(function(){var i=jQuery(this);if(0==i.find(".eg-el-amount").length||a>0){var r=i.data("fid"),n=i.data("filter");o>0&&(n+=".cat-searchresult");for(var s=e.find("."+n).length,l=0;l<t.loadMoreItems.length;l++)0==o?jQuery.each(t.loadMoreItems[l][1],function(e,a){a===r&&-1!=t.loadMoreItems[l][0]&&s++}):-1!=jQuery.inArray(r,t.loadMoreItems[l][1])&&"cat-searchresult"===t.loadMoreItems[l][2]&&s++;0==i.find(".eg-el-amount").length&&i.append('<span class="eg-el-amount">0</span>'),countToTop(i,s)}}),jQuery(t.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-justfilteredtosearch").removeClass("eg-justfilteredtosearch")}function countToTop(e,t){var a=e.find(".eg-el-amount"),o={value:parseInt(a.text(),0)};punchgs.TweenLite.to(o,2,{value:t,onUpdate:function(e,t){a.html(Math.round(e.target[t]))},onUpdateParams:["{self}","value"],ease:punchgs.Power3.easeInOut})}function buildLoader(e,t,a){return!(t.esgloader!=undefined&&t.esgloader.length>0)&&(e.append('<div class="esg-loader '+t.spinner+'"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),esgloader=e.find(".esg-loader"),"spinner1"!=t.spinner&&"spinner2"!=t.spinner||esgloader.css("background",t.spinnerColor),"spinner3"!=t.spinner&&"spinner4"!=t.spinner||e.find(".bounce1, .bounce2, .bounce3, .dot1, .dot2").css("background",t.spinnerColor),a||punchgs.TweenLite.to(e,.3,{minHeight:"100px",zIndex:0}),esgloader)}function setKeyToNull(e,t){jQuery.each(e.loadMoreItems,function(a,o){o[0]==t&&(e.loadMoreItems[a][0]=-1,e.loadMoreItems[a][2]="already loaded")})}function loadMoreEmpty(e){for(var t=!0,a=0;a<e.loadMoreItems.length;a++)-1!=e.loadMoreItems[a][0]&&(t=!1);return t}function loadMoreItems(e){var t=e.container,a=checkMoreToLoad(e),o=[];jQuery.each(a,function(t,a){o.length<e.loadMoreAmount&&(o.push(a[0]),setKeyToNull(e,a[0]))});var i=checkMoreToLoad(e).length;if("scroll"===e.loadMoreType&&(e.esgloader.addClass("infinityscollavailable"),"add"!=e.esgloaderprocess&&(e.esgloaderprocess="add",punchgs.TweenLite.to(e.esgloader,.5,{autoAlpha:1,overwrite:"all"}))),o.length>0){e.lmbut.length>0&&(punchgs.TweenLite.to(e.lmbut,.4,{autoAlpha:.2}),e.lmbut.data("loading",1));var r={action:e.loadMoreAjaxAction,client_action:"load_more_items",token:e.loadMoreAjaxToken,data:o,gridid:e.gridID};e.customGallery&&(r.customgallery=!0),jQuery.ajax({type:"post",url:e.loadMoreAjaxUrl,dataType:"json",data:r}).success(function(a,o,r){if(a.success){var n=jQuery(a.data);e.customGallery&&n.addClass("eg-newli"),jQuery(e.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length>0&&n.addClass("cat-searchresult"),e.container.find("ul").first().append(n),checkAvailableFilters(t,e),prepareItemsInGrid(e,!0),setItemsOnPages(e),stopAllVideos(!0),setTimeout(function(){e.animDelay="off",organiseGrid(e,"Ajax Loaded"),prepareSortingAndOrders(t),loadMoreEmpty(e)?e.lmbut.remove():(e.lmtxt=e.loadMoreTxt+" ("+i+")","off"==e.loadMoreNr&&(e.lmtxt=e.loadMoreTxt),0==i?e.lmbut.html(e.loadMoreEndTxt):e.lmbut.html(e.lmtxt),e.lmbut.length>0&&(punchgs.TweenLite.to(e.lmbut,.4,{autoAlpha:1,overwrite:"all"}),e.lmbut.data("loading",0))),setTimeout(function(){e.animDelay="on"},500)},10)}}).error(function(t,a,o){e.lmbut.html("FAILURE: "+a)})}else loadMoreEmpty(e)?(e.lmbut.remove(),"scroll"===e.loadMoreType&&e.esgloader.remove()):e.lmbut.data("loading",0).html(e.loadMoreEndTxt)}function killOldCustomAjaxContent(e){var t=e.data("lastposttype"),a=e.data("oldajaxsource"),o=e.data("oldajaxtype"),i=e.data("oldajaxvideoaspect"),r=e.data("oldselector");if(t!=undefined&&""!=t)try{jQuery.each(jQuery.fn.tpessential.defaults.ajaxTypes,function(n,s){s!=undefined&&s.type!=undefined&&s.type==t&&s.killfunc!=undefined&&setTimeout(function(){s.killfunc.call(this,{id:a,type:o,aspectratio:i,selector:r})&&e.empty()},250)})}catch(e){console.log(e)}e.data("lastposttype","")}function addAjaxNavigagtion(e,t){function a(e){var t=[];return jQuery.each(e,function(e,a){jQuery(a).closest(".itemtoshow.isvisiblenow").length>0&&t.push(a)}),t}var o=" eg-acp-"+e.ajaxClosePosition;o=(o=o+" eg-acp-"+e.ajaxCloseStyle)+" eg-acp-"+e.ajaxCloseType;var i="eg-icon-left-open-1",r="eg-icon-right-open-1",n='<i class="eg-icon-cancel"></i>';"type1"==e.ajaxCloseType&&(i="eg-icon-left-open-big",r="eg-icon-right-open-big",e.ajaxCloseTxt="",n="X"),"true"!=e.ajaxCloseInner&&1!=e.ajaxCloseInner||(o+=" eg-acp-inner");var s='<div class="eg-ajax-closer-wrapper'+o+'">';switch("tr"==e.ajaxClosePosition||"br"==e.ajaxClosePosition?("on"==e.ajaxNavButton&&(s=s+'<div class="eg-ajax-left eg-ajax-navbt"><i class="'+i+'"></i></div><div class="eg-ajax-right eg-ajax-navbt"><i class="'+r+'"></i></div>'),"on"==e.ajaxCloseButton&&(s=s+'<div class="eg-ajax-closer eg-ajax-navbt">'+n+e.ajaxCloseTxt+"</div>")):("on"==e.ajaxCloseButton&&(s=s+'<div class="eg-ajax-closer eg-ajax-navbt">'+n+e.ajaxCloseTxt+"</div>"),"on"==e.ajaxNavButton&&(s=s+'<div class="eg-ajax-left eg-ajax-navbt"><i class="'+i+'"></i></div><div class="eg-ajax-right eg-ajax-navbt"><i class="'+r+'"></i></div>')),s+="</div>",e.ajaxClosePosition){case"tl":case"tr":case"t":t.prepend(s);break;case"bl":case"br":case"b":t.append(s)}t.find(".eg-ajax-closer").click(function(){showHideAjaxContainer(t,!1,null,null,.25,!0)}),t.find(".eg-ajax-right").click(function(){var e=t.data("container").find(".lastclickedajax").closest("li"),o=e.nextAll().find(".eg-ajax-a-button"),i=e.prevAll().find(".eg-ajax-a-button");o=a(o),i=a(i),o.length>0?o[0].click():i[0].click()}),t.find(".eg-ajax-left").click(function(){var e=t.data("container").find(".lastclickedajax").closest("li"),o=e.nextAll().find(".eg-ajax-a-button"),i=e.prevAll().find(".eg-ajax-a-button");o=a(o),(i=a(i)).length>0?i[i.length-1].click():o[o.length-1].click()})}function showHideAjaxContainer(e,t,a,o,i,r){i=i==undefined?.25:i;var n=e.data("container").data("opt"),s=e.data("lastheight")!=undefined?e.data("lastheight"):"100px";t?(i+=1.2,addAjaxNavigagtion(n,e),punchgs.TweenLite.set(e,{height:"auto"}),punchgs.TweenLite.set(e.parent(),{minHeight:0,maxHeight:"none",height:"auto",overwrite:"all"}),punchgs.TweenLite.from(e,i,{height:s,ease:punchgs.Power3.easeInOut,onStart:function(){punchgs.TweenLite.to(e,i,{autoAlpha:1,ease:punchgs.Power3.easeOut})},onComplete:function(){e.data("lastheight",e.height()),jQuery(window).trigger("resize.essg"),0==e.find(".eg-ajax-closer-wrapper").length&&addAjaxNavigagtion(n,e)}}),"off"!=n.ajaxScrollToOnLoad&&jQuery("html, body").animate({scrollTop:e.offset().top-o},{queue:!1,speed:.5})):(r&&(killOldCustomAjaxContent(e),s="0px"),punchgs.TweenLite.to(e.parent(),i,{height:s,ease:punchgs.Power2.easeInOut,onStart:function(){punchgs.TweenLite.to(e,i,{autoAlpha:0,ease:punchgs.Power3.easeOut})},onComplete:function(){setTimeout(function(){r&&e.html("")},300)}}))}function removeLoader(e){e.closest(".eg-ajaxanimwrapper").find(".esg-loader").remove()}function ajaxCallBack(opt,a){if(opt.ajaxCallback==undefined||""==opt.ajaxCallback||opt.ajaxCallback.length<3)return!1;var splitter=opt.ajaxCallback.split(")");splitter=splitter[0].split("(");var callback=splitter[0],args=splitter.length>1&&""!=splitter[1]?splitter[1]+",":"",obj={};try{obj.containerid="#"+opt.ajaxContentTarget,obj.postsource=a.data("ajaxsource"),obj.posttype=a.data("ajaxtype"),"on"==opt.ajaxCallbackArgument?eval(callback+"("+args+"obj)"):eval(callback+"("+args+")")}catch(e){console.log("Callback Error"),console.log(e)}}function loadMoreContent(e,t,a){e.find(".lastclickedajax").removeClass("lastclickedajax"),a.addClass("lastclickedajax");var o=jQuery("#"+t.ajaxContentTarget).find(".eg-ajax-target").eq(0),i=a.data("ajaxsource"),r=a.data("ajaxtype"),n=a.data("ajaxvideoaspect");if(o.data("container",e),n="16:9"==n?"widevideo":"normalvideo",showHideAjaxContainer(o,!1),o.length>0)switch(t.ajaxJsUrl!=undefined&&""!=t.ajaxJsUrl&&t.ajaxJsUrl.length>3&&jQuery.getScript(t.ajaxJsUrl).done(function(e,a){t.ajaxJsUrl=""}).fail(function(e,a,o){console.log("Loading Error on Ajax jQuery File. Please doublecheck if JS File and Path exist:"+t.ajaxJSUrl),t.ajaxJsUrl=""}),t.ajaxCssUrl!=undefined&&""!=t.ajaxCssUrl&&t.ajaxCssUrl.length>3&&(jQuery("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet"}).attr("href",t.ajaxCssUrl),t.ajaxCssUrl=""),buildLoader(o.closest(".eg-ajaxanimwrapper"),t),o.data("ajaxload")!=undefined&&o.data("ajaxload").abort(),killOldCustomAjaxContent(o),r){case"postid":var s={action:t.loadMoreAjaxAction,client_action:"load_more_content",token:t.loadMoreAjaxToken,postid:i};setTimeout(function(){o.data("ajaxload",jQuery.ajax({type:"post",url:t.loadMoreAjaxUrl,dataType:"json",data:s})),o.data("ajaxload").success(function(e,i,r){e.success&&(jQuery(o).html(e.data),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset),removeLoader(o),ajaxCallBack(t,a))}),o.data("ajaxload").error(function(e,t,a){"abort"!=t&&(jQuery(o).append("<p>FAILURE: <strong>"+t+"</strong></p>"),removeLoader(o))})},300);break;case"youtubeid":setTimeout(function(){o.html('<div class="eg-ajax-video-container '+n+'"><iframe width="560" height="315" src="//www.youtube.com/embed/'+i+'?autoplay=1&vq=hd1080" frameborder="0" allowfullscreen></iframe></div>'),removeLoader(o),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset),ajaxCallBack(t,a)},300);break;case"vimeoid":setTimeout(function(){o.html('<div class="eg-ajax-video-container '+n+'"><iframe src="https://player.vimeo.com/video/'+i+'?portrait=0&autoplay=1" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'),removeLoader(o),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset),ajaxCallBack(t,a)},300);break;case"wistiaid":setTimeout(function(){o.html('<div class="eg-ajax-video-container '+n+'"><iframe src="//fast.wistia.net/embed/iframe/'+i+'"allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="640" height="388"></iframe></div>'),removeLoader(o),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset),ajaxCallBack(t,a)},300);break;case"html5vid":i=i.split("|"),setTimeout(function(){o.html('<video autoplay="true" loop="" class="rowbgimage" poster="" width="100%" height="auto"><source src="'+i[0]+'" type="video/mp4"><source src="'+i[1]+'" type="video/webm"><source src="'+i[2]+'" type="video/ogg"></video>'),removeLoader(o),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset),ajaxCallBack(t,a)},300);break;case"soundcloud":case"soundcloudid":setTimeout(function(){o.html('<iframe width="100%" height="250" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/'+i+'&amp;auto_play=true&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>'),removeLoader(o),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset),ajaxCallBack(t,a)},300);break;case"imageurl":setTimeout(function(){var e=new Image;e.onload=function(){var e=jQuery(this);o.html(""),e.css({width:"100%",height:"auto"}),o.append(jQuery(this)),removeLoader(o),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset),ajaxCallBack(t,a)},e.onerror=function(e){o.html("Error"),removeLoader(o),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset)},e.src=i},300);break;default:jQuery.each(jQuery.fn.tpessential.defaults.ajaxTypes,function(e,a){a.openAnimationSpeed==undefined&&(a.openAnimationSpeed=0),a!=undefined&&a.type!=undefined&&a.type==r&&setTimeout(function(){o.data("lastposttype",r),o.data("oldajaxsource",i),o.data("oldajaxtype",r),o.data("oldajaxvideoaspect",n),o.data("oldselector","#"+t.ajaxContentTarget+" .eg-ajax-target"),showHideAjaxContainer(o,!0,t.ajaxScrollToOnLoad,t.ajaxScrollToOffset,0),o.html(a.func.call(this,{id:i,type:r,aspectratio:n})),removeLoader(o)},300)})}}function resetFiltersFromCookies(e,t,a){if("on"==e.cookies.filter){var o=a!==undefined?a:readCookie("grid_"+e.girdID+"_filters");if(o!==undefined&&null!==o&&o.length>0){var i=0;jQuery.each(o.split(","),function(a,o){o!==undefined&&-1!==o&&"-1"!==o&&jQuery(e.filterGroupClass+".esg-filterbutton,"+e.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).data("fid")!=o&&parseInt(jQuery(this).data("fid"),0)!==parseInt(o,0)||jQuery(this).hasClass("esg-pagination-button")||(t?jQuery(this).click():jQuery(this).addClass("selected"),i++)})}),i>0&&jQuery(e.filterGroupClass+".esg-filterbutton.esg-allfilter,"+e.filterGroupClass+" .esg-filterbutton.esg-allfilter").removeClass("selected")}}}function resetPaginationFromCookies(e,t){if("on"===e.cookies.pagination){var a=t!==undefined?t:readCookie("grid_"+e.girdID+"_pagination");a!==undefined&&null!==a&&a.length>0&&jQuery(e.filterGroupClass+".esg-filterbutton.esg-pagination-button,"+e.filterGroupClass+" .esg-filterbutton.esg-pagination-button").each(function(){parseInt(jQuery(this).data("page"),0)!==parseInt(a,0)||jQuery(this).hasClass("selected")||jQuery(this).click()})}}function resetSearchFromCookies(e){if("on"===e.cookies.search){var t=readCookie("grid_"+e.gridID+"_search");t!==undefined&&null!=t&&t.length>0&&(jQuery(e.filterGroupClass+".eg-search-wrapper .eg-search-input").val(t).trigger("change"),e.cookies.searchjusttriggered=!0)}}function onRightNavClick(e){var t=getOptions(e);t.oldpage=t.currentpage,++t.currentpage>=t.realmaxpage&&(t.currentpage=0);var a=getBestFitColumn(t,jQuery(window).width(),"id");t.column=a.column,t.columnindex=a.index,t.mmHeight=a.mmHeight,setItemsOnPages(t),organiseGrid(t,"RightNavigation"),setOptions(e,t),stopAllVideos(!0)}function mainPreparing(e,t){function a(){if(1==t.lastsearchtimer)return!1;t.lastsearchtimer=1,buildLoader(jQuery(t.filterGroupClass+".eg-search-wrapper"),{spinner:"spinner3",spinnerColor:"#fff"},!0),punchgs.TweenLite.fromTo(jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.3,{autoAlpha:0},{autoAlpha:1,ease:punchgs.Power3.easeInOut});var a,i=this,r=jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input"),n=r.val(),s=jQuery(t.filterGroupClass+".eg-search-wrapper.esg-filter-wrapper .hiddensearchfield");if(r.attr("disabled","true"),n.length>0){r.trigger("searchstarting");var l={search:n,id:t.gridID},u={action:t.loadMoreAjaxAction,client_action:"get_grid_search_ids",token:t.loadMoreAjaxToken,data:l};jQuery.ajax({type:"post",url:t.loadMoreAjaxUrl,dataType:"json",data:u}).success(function(r,l,u){if("on"===t.cookies.search&&createCookie("grid_"+t.gridID+"_search",n,t.cookies.timetosave*(1/60/60)),!0===t.cookies.searchjusttriggered){var d=readCookie("grid_"+t.girdID+"_pagination"),c=readCookie("grid_"+t.girdID+"_filters");setTimeout(function(){resetFiltersFromCookies(t,!0,c),resetPaginationFromCookies(t,d)},200),t.cookies.searchjusttriggered=!1}setTimeout(function(){t.lastsearchtimer=0,jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").attr("disabled",!1),punchgs.TweenLite.to(jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3);var p=[];r&&jQuery.each(r,function(e,t){t!=undefined&&jQuery.isNumeric(t)&&p.push(t)}),e.find(".cat-searchresult").removeClass("cat-searchresult");var h=0;jQuery.each(t.loadMoreItems,function(e,t){t[2]="notsearched",jQuery.each(p,function(e,a){if(parseInt(t[0],0)===parseInt(a,0)&&-1!=parseInt(t[0],0))return t[2]="cat-searchresult",h++,!1})}),jQuery.each(p,function(t,a){e.find(".eg-post-id-"+a).addClass("cat-searchresult")}),s.addClass("eg-forcefilter").addClass("eg-justfilteredtosearch"),(a=jQuery(t.filterGroupClass+".esg-filter-wrapper .esg-allfilter")).length?a.trigger("click"):o.call(i)}).error(function(e,a,o){console.log("FAILURE: "+a),setTimeout(function(){t.lastsearchtimer=0,jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").attr("disabled",!1),punchgs.TweenLite.to(jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)})}else jQuery.each(t.loadMoreItems,function(e,t){t[2]="notsearched"}),e.find(".cat-searchresult").removeClass("cat-searchresult"),(s=jQuery(t.filterGroupClass+".eg-search-wrapper.esg-filter-wrapper .hiddensearchfield")).removeClass("eg-forcefilter").addClass("eg-justfilteredtosearch"),"on"===t.cookies.search&&createCookie("grid_"+t.gridID+"_search","",-1),(a=jQuery(t.filterGroupClass+".esg-filter-wrapper .esg-allfilter")).length?a.trigger("click"):o.call(i),setTimeout(function(){t.lastsearchtimer=0,jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").attr("disabled",!1),punchgs.TweenLite.to(jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)}function o(){var t=getOptions(e);stopAllVideos(!0);var a=jQuery(this);a.hasClass("esg-pagination-button")||(jQuery(t.filterGroupClass+".esg-allfilter, "+t.filterGroupClass+" .esg-allfilter").removeClass("selected"),a.hasClass("esg-allfilter")&&jQuery(t.filterGroupClass+".esg-filterbutton, "+t.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).removeClass("selected")})),a.closest(".esg-filters").hasClass("esg-singlefilters")||"single"==t.filterType?(jQuery(t.filterGroupClass+".esg-filterbutton, "+t.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).removeClass("selected")}),a.addClass("selected")):a.hasClass("selected")?a.removeClass("selected"):a.addClass("selected");var o=jQuery(t.filterGroupClass+".esg-filter-wrapper .hiddensearchfield");o.hasClass("eg-forcefilter")&&o.addClass("selected");var i=0,r="";if(jQuery(t.filterGroupClass+".esg-filterbutton.selected,"+t.filterGroupClass+" .esg-filterbutton.selected").each(function(){jQuery(this).hasClass("selected")&&!jQuery(this).hasClass("esg-pagination-button")&&(r=0===++i?jQuery(this).data("fid"):r+","+jQuery(this).data("fid"))}),"on"===t.cookies.filter&&!0!==t.cookies.searchjusttriggered&&createCookie("grid_"+t.girdID+"_filters",r,t.cookies.timetosave*(1/60/60)),0==i&&jQuery(t.filterGroupClass+".esg-allfilter,"+t.filterGroupClass+" .esg-allfilter").addClass("selected"),t.filterchanged=!0,t.currentpage=0,1==t.maxpage?(jQuery(t.filterGroupClass+".navigationbuttons,"+t.filterGroupClass+" .navigationbuttons").css({display:"none"}),jQuery(t.filterGroupClass+".esg-pagination,"+t.filterGroupClass+" .esg-pagination").css({display:"none"})):(jQuery(t.filterGroupClass+".navigationbuttons,"+t.filterGroupClass+" .navigationbuttons").css({display:"inline-block"}),jQuery(t.filterGroupClass+".esg-pagination,"+t.filterGroupClass+" .esg-pagination").css({display:"inline-block"})),t.lmbut!=undefined&&t.lmbut.length>0){var n=checkMoreToLoad(t).length;n>0?"off"==t.loadMoreNr?t.lmbut.html(t.loadMoreTxt):t.lmbut.html(t.loadMoreTxt+" ("+n+")"):t.lmbut.data("loading",0).html(t.loadMoreEndTxt)}setItemsOnPages(t),organiseGrid(t,"filtergroup"),setOptions(e,t)}resetFiltersFromCookies(t);var i=e.find(".eg-leftright-container"),r=getBestFitColumn(t,jQuery(window).width(),"id");if(t.column=r.column,t.columnindex=r.index,t.mmHeight=r.mmHeight,prepareItemsInGrid(t),organiseGrid(t,"MainPreparing"),jQuery(t.filterGroupClass+".eg-search-wrapper").length>0){var n=t.filterGroupClass.replace(".",""),s=jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-submit"),l=jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-clean");jQuery(t.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper").append('<div style="display:none !important" class="esg-filterbutton hiddensearchfield '+n+'" data-filter="cat-searchresult"><span>Search Result</span></div>'),t.lastsearchtimer=0,s.click(a),jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").on("change",a),l.click(function(){"on"===t.cookies.search&&createCookie("grid_"+t.gridID+"_search","",-1),jQuery.each(t.loadMoreItems,function(e,t){t[2]="notsearched"}),e.find(".cat-searchresult").removeClass("cat-searchresult");var a=jQuery(t.filterGroupClass+".eg-search-wrapper.esg-filter-wrapper .hiddensearchfield");jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").val(""),a.removeClass("eg-forcefilter").addClass("eg-justfilteredtosearch");var i=jQuery(t.filterGroupClass+".esg-filter-wrapper .esg-allfilter");i.length?i.trigger("click"):o.call(this),setTimeout(function(){t.lastsearchtimer=0,jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").attr("disabled",!1),punchgs.TweenLite.to(jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(t.filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(t.filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)})}addCountSuffix(e,t),jQuery(t.filterGroupClass+".esg-filter-wrapper,"+t.filterGroupClass+" .esg-filter-wrapper").each(function(e){var a=jQuery(this);a.hasClass("dropdownstyle")&&(a.find(".esg-filter-checked").each(function(){jQuery(this).prependTo(jQuery(this).parent())}),is_mobile()?a.find(".esg-selected-filterbutton").click(function(){var e=a.find(".esg-selected-filterbutton");e.hasClass("hoveredfilter")?(e.removeClass("hoveredfilter"),a.find(".esg-dropdown-wrapper").stop().hide()):(e.addClass("hoveredfilter"),a.find(".esg-dropdown-wrapper").stop().show())}):"click"==t.showDropFilter?(a.click(function(){var e=jQuery(this).closest(".esg-filter-wrapper");e.find(".esg-selected-filterbutton").addClass("hoveredfilter"),e.find(".esg-dropdown-wrapper").stop().show()}),a.on("mouseleave",function(){var e=jQuery(this).closest(".esg-filter-wrapper");e.find(".esg-selected-filterbutton").removeClass("hoveredfilter"),e.find(".esg-dropdown-wrapper").stop().hide()})):a.hover(function(){var e=jQuery(this).closest(".esg-filter-wrapper");e.find(".esg-selected-filterbutton").addClass("hoveredfilter"),e.find(".esg-dropdown-wrapper").stop().show()},function(){var e=jQuery(this).closest(".esg-filter-wrapper");e.find(".esg-selected-filterbutton").removeClass("hoveredfilter"),e.find(".esg-dropdown-wrapper").stop().hide()}))}),is_mobile()&&jQuery(document).on("click touchstart",function(e){0==jQuery(e.target).closest(".esg-filter-wrapper").length&&(t.container.find(".hoveredfilter").removeClass("hoveredfilter"),t.container.find(".esg-dropdown-wrapper").stop().hide())}),t.container.find(".esg-filters").each(function(e){punchgs.TweenLite.set(this,{zIndex:70-e})}),t.container.find(".esg-filter-wrapper.dropdownstyle").each(function(e){punchgs.TweenLite.set(this,{zIndex:1570-e})}),jQuery("body").on("click",t.filterGroupClass+".esg-left,"+t.filterGroupClass+" .esg-left",function(){(t=getOptions(e)).oldpage=t.currentpage,--t.currentpage<0&&(t.currentpage=t.realmaxpage-1);var a=getBestFitColumn(t,jQuery(window).width(),"id");t.column=a.column,t.columnindex=a.index,t.mmHeight=a.mmHeight,setItemsOnPages(t),organiseGrid(t,"LeftNavigation"),setOptions(e,t),stopAllVideos(!0)}),jQuery("body").on("click",t.filterGroupClass+".esg-right,"+t.filterGroupClass+" .esg-right",function(){onRightNavClick(e)}),jQuery(t.filterGroupClass+".esg-filterbutton, "+t.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).hasClass("esg-pagination-button")||jQuery(this).click(o)});var u;jQuery(window).on("resize.essg",function(){if(clearTimeout(u),"on"==t.forceFullWidth||"on"==t.forceFullScreen){var a=e.parent().parent().find(".esg-relative-placeholder").offset().left;e.closest(".esg-container-fullscreen-forcer").css({left:0-a,width:jQuery(window).width()})}else e.closest(".esg-container-fullscreen-forcer").css({left:0,width:"auto"});if(i.length>0){var o=i.outerWidth(!0);punchgs.TweenLite.set(e.find(".esg-overflowtrick"),{width:e.width()-o,overwrite:"all"})}var r=getBestFitColumn(t,jQuery(window).width(),"id");t.column=r.column,t.columnindex=r.index,t.mmHeight=r.mmHeight,setOptions(e,t),u=setTimeout(function(){setItemsOnPages(t=getOptions(e)),organiseGrid(t,"resize"),setOptions(e,t),stopAllVideos(!0,!1,!1,!0)},200),jQuery.fn.esgbox&&(jQuery.esgbox.update(),jQuery.esgbox.reposition())}),e.on("itemsinposition",function(){var e=jQuery(this),t=getOptions(e);clearTimeout(t.iteminspositiontimer),t.iteminspositiontimer=setTimeout(function(){var a,o,i=e.find(".eg-leftright-container");if(clearTimeout(e.data("callednow")),t.maxheight>0&&t.maxheight<9999999999){t.inanimation=!1,a=e.find(".esg-overflowtrick").first(),o=t.mainul,i=e.find(".eg-leftright-container");var r=parseInt(a.css("paddingTop"),0);r=null==(r=r==undefined?0:r)?0:r;var n=parseInt(a.css("paddingBottom"),0);n=null==(n=n==undefined?0:n)?0:n;var s=t.maxheight+t.overflowoffset+r+n;if("on"==t.forceFullScreen){var l=jQuery(window).height();if(t.fullScreenOffsetContainer!=undefined)try{var u=t.fullScreenOffsetContainer.split(",");jQuery.each(u,function(e,a){(l-=jQuery(a).outerHeight(!0))<t.minFullScreenHeight&&(l=t.minFullScreenHeight)})}catch(e){}s=l}var d=.3;o.height()<200&&(d=1),punchgs.TweenLite.to(o,d,{force3D:"auto",height:s,ease:punchgs.Power3.easeInOut,clearProps:"transform"}),punchgs.TweenLite.to(a,d,{force3D:!0,height:s,ease:punchgs.Power3.easeInOut,clearProps:"transform",onComplete:function(){e.closest(".eg-grid-wrapper, .myportfolio-container").css({height:"auto"}).removeClass("eg-startheight")}}),i.length>0&&punchgs.TweenLite.set(i,{minHeight:s,ease:punchgs.Power3.easeInOut});var c=jQuery(t.filterGroupClass+".esg-navbutton-solo-left,"+t.filterGroupClass+" .esg-navbutton-solo-left"),p=jQuery(t.filterGroupClass+".esg-navbutton-solo-right,"+t.filterGroupClass+" .esg-navbutton-solo-right");c.length>0&&c.css({marginTop:0-c.height()/2}),p.length>0&&p.css({marginTop:0-p.height()/2})}else 0==t.maxheight&&(a=e.find(".esg-overflowtrick").first(),o=e.find("ul").first(),punchgs.TweenLite.to(o,1,{force3D:"auto",height:0,ease:punchgs.Power3.easeInOut,clearProps:"transform"}),punchgs.TweenLite.to(a,1,{force3D:!0,height:0,ease:punchgs.Power3.easeInOut,clearProps:"transform"}));e.data("callednow",setTimeout(function(){e.find(".itemtoshow.isvisiblenow").each(function(){hideUnderElems(jQuery(this))})},250)),t.firstLoadFinnished===undefined&&(e.trigger("essential_grid_ready_to_use"),resetSearchFromCookies(t),resetPaginationFromCookies(t),t.firstLoadFinnished=!0)},50)}),prepareSortingAndOrders(e),prepareSortingClicks(e)}function prepareSortingAndOrders(e){var t=getOptions(e);e.find(".tp-esg-item").each(function(){var e=new Date(jQuery(this).data("date"));jQuery(this).data("date",e.getTime()/1e3)}),jQuery(t.filterGroupClass+".esg-sortbutton-order,"+t.filterGroupClass+" .esg-sortbutton-order").each(function(){var e=jQuery(this);e.removeClass("tp-desc").addClass("tp-asc"),e.data("dir","asc")})}function prepareSortingClicks(e){opt=getOptions(e);var t;jQuery(opt.filterGroupClass+".esg-sortbutton-wrapper .esg-sortbutton-order,"+opt.filterGroupClass+" .esg-sortbutton-wrapper .esg-sortbutton-order").click(function(){var a=jQuery(this);a.hasClass("tp-desc")?(a.removeClass("tp-desc").addClass("tp-asc"),a.data("dir","asc")):(a.removeClass("tp-asc").addClass("tp-desc"),a.data("dir","desc"));var o=a.data("dir");stopAllVideos(!0,!0),jQuery(opt.filterGroupClass+".esg-sorting-select,"+opt.filterGroupClass+" .esg-sorting-select").each(function(){var a=jQuery(this).val();clearTimeout(t),e.find(".tp-esg-item").tsort({data:a,forceStrings:"false",order:o}),t=setTimeout(function(){opt=getOptions(e),setItemsOnPages(opt),organiseGrid(opt,"preparSorting"),setOptions(e,opt)},200)})}),jQuery(opt.filterGroupClass+".esg-sorting-select,"+opt.filterGroupClass+" .esg-sorting-select").each(function(){var a=jQuery(this);a.change(function(){var o=jQuery(this).closest(".esg-sortbutton-wrapper").find(".esg-sortbutton-order"),i=a.val(),r=a.find("option:selected").text(),n=o.data("dir");stopAllVideos(!0,!0),clearTimeout(t),a.parent().parent().find(".sortby_data").text(r),e.find(".tp-esg-item").tsort({data:i,forceStrings:"false",order:n})!==undefined&&(opt=getOptions(e),setItemsOnPages(opt),organiseGrid(opt,"OnSorting"),setOptions(e,opt))})})}function fixCenteredCoverElement(e,t,a){if(t==undefined&&(t=e.find(".esg-entry-cover")),a==undefined&&(a=e.find(".esg-entry-media")),t&&a){var o=a.outerHeight();punchgs.TweenLite.set(t,{height:o});var i=e.find(".esg-cc");punchgs.TweenLite.set(i,{top:(o-i.height())/2})}}function getBestFitColumn(e,t,a){var o=t,i=0,r=9999,n=0,s=e.column,l=e.column,u=0,d=0;e.responsiveEntries!=undefined&&e.responsiveEntries.length>0&&jQuery.each(e.responsiveEntries,function(e,t){var a=t.width!=undefined?t.width:0,c=t.amount!=undefined?t.amount:0;r>a&&(r=a,s=c,d=e),n<a&&(n=a,lamount=c),a>i&&a<=o&&(i=a,l=c,u=e)}),r>t&&(l=s,u=d);var c={};return c.index=u,c.column=l,c.mmHeight=e.responsiveEntries[c.index].mmheight,"id"==a?c:l}function getOptions(e){return e.data("opt")}function setOptions(e,t){e.data("opt",t)}function checkMediaListeners(e){e.find("iframe").each(function(e){var t=jQuery(this);t.attr("src").toLowerCase().indexOf("youtube")>0?prepareYT(t):t.attr("src").toLowerCase().indexOf("vimeo")>0?prepareVimeo(t):t.attr("src").toLowerCase().indexOf("wistia")>0?prepareWs(t):t.attr("src").toLowerCase().indexOf("soundcloud")>0&&prepareSoundCloud(t)}),e.find("video").each(function(e){prepareVideo(jQuery(this))})}function waitMediaListeners(e){var t=e.find("iframe").first(),a=e.find("video").first(),o=t.length>0&&t.attr("src").toLowerCase().indexOf("youtube")>0?"y":t.length>0&&t.attr("src").toLowerCase().indexOf("vimeo")>0?"v":t.length>0&&t.attr("src").toLowerCase().indexOf("wistia")>0?"w":t.length>0&&t.attr("src").toLowerCase().indexOf("soundcloud")>0?"s":a.length>0&&a.length>=1?"h":"",i=setInterval(function(){e.find("iframe, video").each(function(e){(""===o||"y"===o&&prepareYT(t)||"v"===o&&prepareVimeo(t)||"w"===o&&prepareWs(t)||"s"===o&&prepareSoundCloud(t)||"h"===o&&prepareVideo(a))&&clearInterval(i)})},50)}function directionPrepare(e,t,a,o,i){var r={};switch(e){case 0:r.x=0,r.y="in"==t?0-o:10+o,r.y=i&&"in"==t?r.y-5:r.y;break;case 1:r.y=0,r.x="in"==t?a:-10-a,r.x=i&&"in"==t?r.x+5:r.x;break;case 2:r.y="in"==t?o:-10-o,r.x=0,r.y=i&&"in"==t?r.y+5:r.y;break;case 3:r.y=0,r.x="in"==t?0-a:10+a,r.x=i&&"in"==t?r.x-5:r.x}return r}function getDir(e,t){var a=e.width(),o=e.height(),i=(t.x-e.offset().left-a/2)*(a>o?o/a:1),r=(t.y-e.offset().top-o/2)*(o>a?a/o:1);return Math.round((Math.atan2(r,i)*(180/Math.PI)+180)/90+3)%4}function hideUnderElems(e){e.find(".eg-handlehideunder").each(function(){var t=jQuery(this),a=t.data("hideunder"),o=t.data("hideunderheight"),i=t.data("hidetype");t.data("knowndisplay")==undefined&&t.data("knowndisplay",t.css("display")),e.width()<a&&a!=undefined||e.height()<o&&o!=undefined?"visibility"==i?t.addClass("forcenotvisible"):"display"==i&&t.addClass("forcenotdisplay"):"visibility"==i?t.removeClass("forcenotvisible"):"display"==i&&t.removeClass("forcenotdisplay")})}function offsetParrents(e,t){var a=t.closest(".mainul"),o=a.parent();if(t.position().top+t.height()>a.height()+40||0==e||0!=a.data("bh")&&a.data("bh")!=undefined&&t.position().top+t.height()>parseInt(a.data("bh"),0)+40){a.data("bh")!=undefined&&0!=a.data("bh")||a.data("bh",a.height()),o.data("bh")!=undefined&&0!=o.data("bh")||o.data("bh",o.height());var i=a.data("bh"),r=o.data("bh");0!=e?(a.data("alreadyinoff",!1),punchgs.TweenLite.to(a,.2,{height:i+e}),punchgs.TweenLite.to(o,.2,{height:r+e})):a.data("alreadyinoff")||(a.data("alreadyinoff",!0),punchgs.TweenLite.to(a,.3,{height:i,ease:punchgs.Power3.easeIn,onComplete:function(){a.data("bh",0),o.data("bh",0),a.data("alreadyinoff",!1)}}),punchgs.TweenLite.to(o,.3,{height:r,ease:punchgs.Power3.easeIn,onComplete:function(){a.data("bh",0),o.data("bh",0),a.data("alreadyinoff",!1)}}))}}function itemHoverAnim(e,t,a,o){1!=e.data("simplevideo")&&checkMediaListeners(e),clearTimeout(e.data("hovertimer"));var i=a.mainhoverdelay;"set"==t&&(i=0),e.data("hovertimer",setTimeout(function(){e.data("animstarted",1),punchgs.TweenLite.set(e,{z:.01,x:0,y:0,rotationX:0,rotationY:0,rotationZ:0}),e.addClass("esg-hovered");var i=e.find(".esg-entry-cover");if(punchgs.TweenLite.set(i,{transformStyle:"flat"}),"set"!=t&&fixCenteredCoverElement(e,i),e.find(".esg-entry-content").length>0&&"set"!=t&&"even"==a.layout){var r=e.data("pt"),n=e.data("pb"),s=e.data("pl"),l=e.data("pr"),u=e.data("bt"),d=e.data("bb"),c=e.data("bl"),p=e.data("br");e.data("hhh",e.outerHeight()),e.data("www",e.outerWidth()),punchgs.TweenLite.set(e.find(".esg-entry-content"),{display:"block"}),e.hasClass("esg-split-content")&&punchgs.TweenLite.set(e.find(".esg-entry-media-wrapper"),{height:e.data("hhh")}),punchgs.TweenLite.set(e,{z:.1,zIndex:50,x:0-(s+l+p+c)/2,y:0-(r+n+u+d)/2,height:"auto",width:e.data("www")+s+l+c+p}),"on"==a.evenGridMasonrySkinPusher&&offsetParrents(e.height()-e.data("hhh"),e),e.css({paddingTop:r+"px",paddingLeft:s+"px",paddingRight:l+"px",paddingBottom:l+"px"}),e.css({borderTopWidth:u+"px",borderBottomWidth:d+"px",borderLeftWidth:c+"px",borderRightWidth:p+"px"}),1!=a.inanimation&&punchgs.TweenLite.set(e.closest(".esg-overflowtrick"),{overflow:"visible",overwrite:"all"})}jQuery.each(esgAnimmatrix,function(a,i){e.find(i[0]).each(function(){var a=jQuery(this),r=a.data("delay")!=undefined?a.data("delay"):0;animfrom=jQuery.extend({},i[2]),animto=jQuery.extend({},i[3]),animto.delay=r,animto.overwrite="all",animfrom.overwrite="all",animto.transformStyle="flat",animto.force3D=!0;var n=i[0].indexOf("out")>-1;a.hasClass("esg-entry-media")||n||(animto.clearProps="transform"),n&&(animfrom.clearProps="transform"),animto.z=.001,animfrom.transformPerspective==undefined&&(animfrom.transformPerspective=1e3),a.hasClass("esg-overlay")&&(animfrom.z==undefined&&(animfrom.z=-.002),animto.z=-1e-4);var s=a;if(a.hasClass("esg-entry-media")&&a.find(".esg-media-video").length>0)return!0;var l,u,d,c=punchgs.TweenLite.killTweensOf(s,!1);if("set"==t)c=punchgs.TweenLite.set(s,animfrom),punchgs.TweenLite.set(e.find(".esg-entry-cover"),{visibility:"visible"}),n&&c.eventCallback("onComplete",resetTransforms,[s]);else switch(i[0]){case".esg-shifttotop":animto.y=0-e.find(".esg-bc.eec").last().height(),c=punchgs.TweenLite.fromTo(a,.5,{y:0},{y:animto.y});break;case".esg-slide":l=directionPrepare(o,"in",e.width(),e.height()),u={},d={},jQuery.extend(u,animfrom),jQuery.extend(d,animto),u.css.x=l.x,u.css.y=l.y,c=punchgs.TweenLite.fromTo(s,i[1],u,d,0);break;case".esg-slideout":l=directionPrepare(o,"out",e.width(),e.height()),u={},d={},jQuery.extend(u,animfrom),jQuery.extend(d,animto),d.x=l.x,d.y=l.y,d.clearProps="",c=punchgs.TweenLite.fromTo(s,i[1],u,d,0);break;default:c=punchgs.TweenLite.fromTo(s,i[1],animfrom,animto,0)}})})},i))}function videoClickEvent(e,t,a,o){e.css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),e.closest(".esg-overflowtrick").css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),e.closest("ul").css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),o||e.find(".esg-media-video").each(function(){var t=jQuery(this),a=e.find(".esg-entry-media");if(t.data("youtube")!=undefined&&0==e.find(".esg-youtube-frame").length){var o="https://www.youtube.com/embed/"+t.data("youtube")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";a.append('<iframe class="esg-youtube-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;display:none" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-src="'+o+'" src="about:blank"></iframe>')}if(t.data("vimeo")!=undefined&&0==e.find(".esg-vimeo-frame").length){var i="https://player.vimeo.com/video/"+t.data("vimeo")+"?title=0&byline=0&html5=1&portrait=0";a.append('<iframe class="esg-vimeo-frame"  allowfullscreen="false" style="position:absolute;top:0px;left:0px;display:none" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-src="'+i+'" src="about:blank"></iframe>')}if(t.data("wistia")!=undefined&&0==e.find(".esg-wistia-frame").length){var r="https://fast.wistia.net/embed/iframe/"+t.data("wistia")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";a.append('<iframe class="esg-wistia-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;display:none" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-src="'+r+'" src="about:blank"></iframe>')}if(t.data("soundcloud")!=undefined&&0==e.find(".esg-soundcloud-frame").length){var n="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+t.data("soundcloud")+"&amp;auto_play=false&amp;hide_related=false&amp;visual=true&amp;show_artwork=true";a.append('<iframe class="esg-soundcloud-frame" allowfullscreen="false" style="position:absolute;top:0px;left:0px;display:none" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+t.attr("width")+'" height="'+t.attr("height")+'" scrolling="no" frameborder="no" data-src="'+n+'" src="about:blank"></iframe>')}t.data("mp4")==undefined&&t.data("webm")==undefined&&t.data("ogv")==undefined||0!=e.find(".esg-video-frame").length||(a.append('<video class="esg-video-frame" style="position:absolute;top:0px;left:0px;display:none" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-origw="'+t.attr("width")+'" data-origh="'+t.attr("height")+'" ></video'),t.data("mp4")!=undefined&&a.find("video").append('<source src="'+t.data("mp4")+'" type="video/mp4" />'),t.data("webm")!=undefined&&a.find("video").append('<source src="'+t.data("webm")+'" type="video/webm" />'),t.data("ogv")!=undefined&&a.find("video").append('<source src="'+t.data("ogv")+'" type="video/ogg" />'))}),adjustMediaSize(e,!0,null,a);var i=e.find(".esg-youtube-frame"),r=e.find(".esg-entry-cover"),n=e.find(".esg-media-poster"),s="y",l=!1;0==i.length&&(i=e.find(".esg-vimeo-frame"),s="v"),0==i.length&&(i=e.find(".esg-wistia-frame"),s="w"),0==i.length&&(i=e.find(".esg-soundcloud-frame"),s="s"),0==i.length&&(i=e.find(".esg-video-frame"),s="h"),"about:blank"==i.attr("src")?i.attr("src",i.data("src")):i.hasClass("esg-video-frame")?punchgs.TweenLite.set(i,{opacity:0,display:"block"}):l=!0,loadVideoApis(t,a),o||punchgs.TweenLite.set(i,{opacity:0,display:"block"});var u=setInterval(function(){(l||"y"==s&&prepareYT(i)||"v"==s&&prepareVimeo(i)||"w"==s&&prepareWs(i)||"s"==s&&prepareSoundCloud(i)||"h"==s&&prepareVideo(i))&&(clearInterval(u),o||(is_mobile()?(punchgs.TweenLite.set(i,{autoAlpha:1}),punchgs.TweenLite.set(n,{autoAlpha:0}),punchgs.TweenLite.set(r,{autoAlpha:0})):(punchgs.TweenLite.to(i,.5,{autoAlpha:1}),punchgs.TweenLite.to(n,.5,{autoAlpha:0}),punchgs.TweenLite.to(r,.5,{autoAlpha:0}),"y"!==s&&"w"!==s||playYT(i)),"v"===s&&playVimeo(i),"s"===s&&playSC(i),"h"===s&&playVideo(i)),i.attr("src")!=undefined&&(i.attr("src").toLowerCase().indexOf("youtube")>0&&playYT(i),i.attr("src").toLowerCase().indexOf("vimeo")>0&&playVimeo(i),i.attr("src").toLowerCase().indexOf("wistia")>0&&playWs(i)))},100)}function setMediaEntryAspectRatio(e){var t=e.img!==undefined?e.img.attr("width"):1,a=e.img!==undefined?e.img.attr("height"):1;(e.ar===undefined||"auto"==e.ar||isNaN(e.ar))&&(e.imgw=e.imgw===undefined?e.img!=undefined?e.img.width():1:e.imgw,e.imgh=e.imgh===undefined?e.img!=undefined?e.img.height():1:e.imgh,e.imgw=null===e.imgw||isNaN(e.imgw)||e.imgw===undefined||!1===e.imgw?1:e.imgw,e.imgh=null===e.imgh||isNaN(e.imgh)||e.imgh===undefined||!1===e.imgh?1:e.imgh,e.imgw=e.img!=undefined?t!==undefined&&!1!==t?t:e.imgw:1,e.imgh=e.img!=undefined?a!==undefined&&!1!==a?a:e.imgh:1,e.ar=e.img!==undefined&&e.img.length>=1?e.imgh/e.imgw*100:0),1!==e.ip.data("keepAspectRatio")&&(e.ip.css({paddingBottom:e.ar+"%"}),e.ip.data("bottompadding",e.ar)),e.keepAspectRatio&&e.ip.data("keepAspectRatio",1)}function prepareItemsInGrid(e,t){var a=e.container;a.addClass("esg-container"),t||a.find(".mainul>li").each(function(){jQuery(this).addClass("eg-newli")});var o=e.mainul[0].getElementsByClassName("eg-newli"),i=e.aspectratio,r=a.find(".esg-overflowtrick").parent().width(),n=1,s=1;(i=i.split(":")).length>1?(n=parseInt(i[0],0)/parseInt(i[1],0),s=parseInt(i[1],0)/parseInt(i[0],0),r/e.column/n,kar=!0,s*=100):(n="auto",s="auto",kar=!1);var l=a.find("li[data-anime]").length,u=a.find("li[data-anime-other]").length;(l||u)&&a.addClass("esg-itm-anime");for(var d=0;d<o.length;d++){var c=o[d],p=jQuery(c),h=p.find(".esg-entry-media"),g=h.find("img"),f=g!=undefined&&g.length>0?g.attr("src"):undefined,m=g!=undefined&&g.length>0?g.data("lazysrc"):undefined;if(m===undefined&&(m=f),h.addClass(e.mediaFilter),punchgs.TweenLite.set(p,{force3D:"auto",autoAlpha:0,opacity:0}),p.addClass("tp-esg-item"),l||u){var w=p.attr("data-anime-blur"),v=p.attr("data-anime-other-blur");(w||v)&&p.addClass("esg-anime-blur"),p.addClass("esg-anime-item").find(".esg-media-cover-wrapper").addClass("esg-item-anime").data({anime_itm:p.attr("data-anime"),anime_itm_other:p.attr("data-anime-other"),anime_itm_zoomin:p.attr("data-anime-zoomin"),anime_itm_other_zoomin:p.attr("data-anime-other-zoomin"),anime_itm_zoomout:p.attr("data-anime-zoomout"),anime_itm_other_zoomout:p.attr("data-anime-other-zoomout"),anime_itm_fade:p.attr("data-anime-fade"),anime_itm_other_fade:p.attr("data-anime-other-fade"),anime_itm_shift:p.attr("data-anime-shift"),anime_itm_other_shift:p.attr("data-anime-other-shift"),anime_itm_shift_amount:p.attr("data-anime-shift-amount"),anime_itm_shift_other_amount:p.attr("data-anime-other-shift-amount"),anime_itm_rotate:p.attr("data-anime-rotate"),anime_itm_other_rotate:p.attr("data-anime-other-rotate"),anime_itm_blur:w,anime_itm_other_blur:v}).find(".esg-entry-media.grayscale").removeClass("grayscale").parent().addClass("grayscale")}var y={bgpos:g.length>=1&&g!=undefined?g.data("bgposition"):undefined,bgsize:g.length>=1&&g!=undefined?g.data("bgsize"):undefined,bgrepeat:g.length>=1&&g!=undefined?g.data("bgrepeat"):undefined};y.bgpos=y.bgpos===undefined?"":"background-position:"+y.bgpos+";",y.bgsize=y.bgsize===undefined?"":"background-size:"+y.bgsize+";",y.bgrepeat=y.bgrepeat===undefined?"":"background-repeat:"+y.bgrepeat+";";var b=m||"";h.append('<div class="esg-media-poster" src="'+m+'" data-src="'+m+'" data-lazythumb="'+g.data("lazythumb")+'" style="'+y.bgsize+y.bgrepeat+y.bgpos+"background-image:url("+b+')"></div>'),"even"==e.layout?h.wrap('<div class="esg-entry-media-wrapper" style="width:100%;height:100%;overflow:hidden;position:relative;"></div>'):h.wrap('<div class="esg-entry-media-wrapper" style="overflow:hidden;position:relative;"></div>'),setMediaEntryAspectRatio({ip:h,img:g,ar:s,keepAspectRatio:kar}),g!=undefined&&g.length>0&&g.css({display:"none"}),p.find(".esg-media-video").each(function(){var t=jQuery(this),o="display:none;",i="data-src=",r="src=";if(t.data("poster")!=undefined&&t.data("poster").length>3?h.find(".esg-media-poster").css({opacity:1,backgroundImage:"url("+t.data("poster")+")"}).attr("src",t.data("poster")).data("src",t.data("poster")):(p.find(".esg-entry-cover").remove(),p.find(".esg-media-poster").remove(),o="display:block;",i="src=",r="data-src=",s=parseInt(t.attr("height"),0)/parseInt(t.attr("width"),0)*100,setMediaEntryAspectRatio({ip:h,ar:s,keepAspectRatio:!0}),p.data("simplevideo",1)),0==p.find(".esg-click-to-play-video").length&&(p.find(".esg-entry-cover").find("*").each(function(){0==jQuery(this).closest("a").length&&0==jQuery(this).find("a").length&&jQuery(this).addClass("esg-click-to-play-video")}),p.find(".esg-overlay").addClass("esg-click-to-play-video")),t.data("youtube")!=undefined){var n="https://www.youtube.com/embed/"+t.data("youtube")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";h.append('<iframe class="esg-youtube-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;'+o+'" width="'+t.attr("width")+'" height="'+t.attr("height")+'" '+i+'"'+n+'" '+r+'"about:blank"></iframe>')}if(t.data("vimeo")!=undefined){var l="https://player.vimeo.com/video/"+t.data("vimeo")+"?title=0&byline=0&html5=1&portrait=0";h.append('<iframe class="esg-vimeo-frame" style="position:absolute;top:0px;left:0px;'+o+'" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""  width="'+t.attr("width")+'" height="'+t.attr("height")+'" '+i+'"'+l+'" '+r+'"about:blank"></iframe>')}if(t.data("wistia")!=undefined){var u="https://fast.wistia.net/embed/iframe/"+t.data("wistia")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";h.append('<iframe class="esg-wistia-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;'+o+'" width="'+t.attr("width")+'" height="'+t.attr("height")+'" '+i+'"'+u+'" '+r+'"about:blank"></iframe>')}if(t.data("soundcloud")!=undefined){var d="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+t.data("soundcloud")+"&amp;auto_play=false&amp;hide_related=false&amp;visual=true&amp;show_artwork=true";h.append('<iframe class="esg-soundcloud-frame" style="position:absolute;top:0px;left:0px;'+o+'" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+t.attr("width")+'" height="'+t.attr("height")+'" '+i+'"'+d+'" '+r+'"about:blank"></iframe>')}if(t.data("mp4")!=undefined||t.data("webm")!=undefined||t.data("ogv")!=undefined){h.append('<video class="esg-video-frame" controls style="position:absolute;top:0px;left:0px;'+o+'" width="'+t.attr("width")+'" height="'+t.attr("height")+'" data-origw="'+t.attr("width")+'" data-origh="'+t.attr("height")+'"></video');var c=h.find("video");t.data("mp4")!=undefined&&c.append('<source src="'+t.data("mp4")+'" type="video/mp4" />'),t.data("webm")!=undefined&&c.append('<source src="'+t.data("webm")+'" type="video/webm" />'),t.data("ogv")!=undefined&&c.append('<source src="'+t.data("ogv")+'" type="video/ogg" />')}p.find(".esg-click-to-play-video").click(function(){var t=jQuery(this);t.hasClass("eg-ajaxclicklistener")||t.closest(".eg-ajaxclicklistener").length||videoClickEvent(t=t.closest(".tp-esg-item"),a,e)}),1==p.data("simplevideo")&&waitMediaListeners(p)}),0==p.find(".esg-media-video").length&&p.find(".esg-click-to-play-video").remove(),adjustMediaSize(p,!0,null,e),p.find(".esg-entry-content").length>0&&p.find(".esg-media-cover-wrapper").length>0&&(p.find(".esg-entry-content").index()<p.find(".esg-media-cover-wrapper").index()||p.find(".esg-entry-content").addClass("esg-notalone")),p.find(".esg-entry-cover").each(function(e){var t=jQuery(this),a=t.data("clickable");t.css({visibility:"hidden"}),t.find(".esg-top").wrapAll('<div class="esg-tc eec"></div>'),t.find(".esg-left").wrapAll('<div class="esg-lc eec"></div>'),t.find(".esg-right").wrapAll('<div class="esg-rc eec"></div>'),t.find(".esg-center").wrapAll('<div class="esg-cc eec"></div>'),t.find(".esg-bottom").wrapAll('<div class="esg-bc eec"></div>'),t.find(".eec").append("<div></div>"),"on"==a&&t.find(".esg-overlay").length>=1&&t.click(function(e){0==jQuery(e.target).closest("a").length&&jQuery(this).find(".eg-invisiblebutton")[0].click()}).css({cursor:"pointer"})}),p.data("pt",parseInt(p.css("paddingTop"),0)),p.data("pb",parseInt(p.css("paddingBottom"),0)),p.data("pl",parseInt(p.css("paddingLeft"),0)),p.data("pr",parseInt(p.css("paddingRight"),0)),p.data("bt",parseInt(p.css("borderTopWidth"),0)),p.data("bb",parseInt(p.css("borderBottomWidth"),0)),p.data("bl",parseInt(p.css("borderLeftWidth"),0)),p.data("br",parseInt(p.css("borderRightWidth"),0)),p.find(".esg-entry-content").length>0&&"even"==e.layout&&(p.css({paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px"}),p.css({borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"})),e.ajaxContentTarget!=undefined&&jQuery("#"+e.ajaxContentTarget).length>0&&p.find(".eg-ajaxclicklistener, a").each(function(){var t=jQuery(this),o=jQuery("#"+e.ajaxContentTarget).find(".eg-ajax-target");o.parent().hasClass("eg-ajaxanimwrapper")||o.wrap('<div class="eg-ajaxanimwrapper" style="position:relative;overflow:hidden;"></div>'),t.data("ajaxsource")!=undefined&&t.data("ajaxtype")!=undefined&&(t.addClass("eg-ajax-a-button"),t.click(function(){return loadMoreContent(a,e,t),!(o.length>0)}))}),p.find(".eg-triggerfilter").click(function(){var t=jQuery(this).data("filter");return jQuery(e.filterGroupClass+".esg-filterbutton,"+e.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).data("filter")==t&&jQuery(this).trigger("click")}),!1}).css({cursor:"pointer"}),p.on("mouseenter.hoverdir, mouseleave.hoverdir",function(t){var a=jQuery(this),o=getDir(a,{x:t.pageX,y:t.pageY});if("mouseenter"===t.type)itemHoverAnim(jQuery(this),"nope",e,o);else{if(clearTimeout(a.data("hovertimer")),1==a.data("animstarted")){a.data("animstarted",0),a.removeClass("esg-hovered");var i=0;a.find(".esg-entry-content").length>0&&"even"==e.layout&&(punchgs.TweenLite.set(a.find(".esg-entry-content"),{display:"none"}),punchgs.TweenLite.set(a,{zIndex:5}),punchgs.TweenLite.set(a.closest(".esg-overflowtrick"),{overflow:"hidden",overwrite:"all"}),a.css({paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px"}),a.css({borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}),punchgs.TweenLite.set(a,{z:0,height:a.data("hhh"),width:a.data("www"),x:0,y:0}),"on"==e.evenGridMasonrySkinPusher&&offsetParrents(0,a)),jQuery.each(esgAnimmatrix,function(e,t){a.find(t[0]).each(function(){var e,r,n=jQuery(this),s=n.data("delay")!=undefined?n.data("delay"):0,l=t[5],u=n,d=t[0].indexOf("out")>-1;switch(i<s&&(i=s),l.z==undefined&&(l.z=1),t[0]){case".esg-slide":e=directionPrepare(o,"in",a.width(),a.height(),!0),l.x=e.x,l.y=e.y,r=punchgs.TweenLite.to(u,.5,{y:l.y,x:l.x,overwrite:"all",onCompleteParams:[u],onComplete:function(e){punchgs.TweenLite.set(e,{autoAlpha:0})}});break;case".esg-slideout":e=directionPrepare(o,"out",a.width(),a.height()),l.x=0,l.y=0,l.overwrite="all",r=punchgs.TweenLite.fromTo(u,.5,{autoAlpha:1,x:e.x,y:e.y},{x:0,y:0,autoAlpha:1,overwrite:"all"});break;default:l.force3D="auto",r=punchgs.TweenLite.to(u,t[4],l,0)}d&&r.eventCallback("onComplete",resetTransforms,[u])})})}a.hasClass("esg-demo")&&setTimeout(function(){itemHoverAnim(a)},800)}}),itemHoverAnim(p,"set",e),p.hasClass("esg-demo")&&itemHoverAnim(p)}loadVideoApis(a,e),setItemsOnPages(e),e.mainul.find(".eg-newli").removeClass("eg-newli")}function resetTransforms(e){punchgs.TweenLite.set(e,{clearProps:"transform",css:{clearProps:"transform"}})}function adjustMediaSize(e,t,a,o){var i=e.find("iframe").length>0?"iframe":e.find(".esg-video-frame").length>0?".esg-video-frame":"";""!==i&&e.find(i).each(function(i){var r=jQuery(this);r.data("origw",r.attr("width")),r.data("origh",r.attr("height"));var n,s,l=r.data("origw"),u=r.data("origh");n=a!=undefined?a.itemw:e.width(),s=Math.round(n/l*u),n=Math.round(n),r.data("neww",n),r.data("newh",s),t&&"even"!=o.layout?punchgs.TweenLite.set(r,{width:n,height:s}):punchgs.TweenLite.set(r,{width:"100%",height:"100%"})})}function setItemsOnPages(e){var t,a=e.container,o=a.find(".mainul>li"),i=e.column*e.row,r=e.rowItemMultiplier,n=r.length;if(n>0&&"even"==e.layout)for(i=0,t=0;t<e.row;t++){var s=t-n*Math.floor(t/n);i+=r[s][e.columnindex]}if("on"==e.evenCobbles&&e.cobblesPattern!=undefined){var l=0;i=0,jQuery.each(o,function(t,a){var o=jQuery(o),r=o.data("cobblesw"),n=o.data("cobblesh");if(e.cobblesPattern!=undefined&&e.cobblesPattern.length>2){var s=getCobblePat(e.cobblesPattern,t);r=parseInt(s.w,0),n=parseInt(s.h,0)}r=r==undefined?1:r,n=n==undefined?1:n,e.column<r&&(r=e.column),l+=r*n,e.column*e.row>=l&&i++})}var u=i*e.currentpage,d=u+i,c=jQuery(e.filterGroupClass+".esg-filterbutton.selected:not(.esg-navigationbutton),"+e.filterGroupClass+" .esg-filterbutton.selected:not(.esg-navigationbutton)"),p=0;if(jQuery(e.filterGroupClass+".esg-filter-wrapper, "+e.filterGroupClass+" .esg-filter-wrapper").length>0?jQuery.each(o,function(t,a){var o=jQuery(a);o.find(".esgbox").each(function(){"all"==e.lightBoxMode?jQuery(this).attr("rel","group"):"contentgroup"!=e.lightBoxMode&&jQuery(this).attr("rel","")});var i=!0,r=0;jQuery.each(c,function(e,t){o.hasClass(jQuery(t).data("filter"))&&(i=!1,r++)}),"and"==e.filterLogic&&r<c.length&&(i=!0),hidsbutton=jQuery(e.filterGroupClass+".esg-filter-wrapper .hiddensearchfield"),hidsbutton.hasClass("eg-forcefilter")&&r<c.length&&(i=!0),p>=u&&p<d&&!i?(o.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),"filterpage"!=e.lightBoxMode&&"filterall"!=e.lightBoxMode||o.find(".esgbox").attr("rel","group"),p++):("filterall"==e.lightBoxMode&&o.find(".esgbox").attr("rel","group"),i?o.addClass("itemishidden").removeClass("itemtoshow").removeClass("fitsinfilter"):(p<u||p>=d?(o.addClass("itemonotherpage"),o.removeClass("itemtoshow"),p++):(o.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),p++),o.addClass("fitsinfilter")))}):jQuery.each(o,function(t,a){var o=jQuery(a);o.find(".esgbox").each(function(){"all"==e.lightBoxMode?jQuery(this).attr("rel","group"):"contentgroup"!=e.lightBoxMode&&jQuery(this).attr("rel","")}),"filterall"==e.lightBoxMode&&o.find(".esgbox").attr("rel","group"),p>=u&&p<d?(o.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),p++,"filterpage"!=e.lightBoxMode&&"filterall"!=e.lightBoxMode||o.find(".esgbox").attr("rel","group")):(p<u||p>=d?(o.addClass("itemonotherpage"),o.removeClass("itemtoshow"),p++):(o.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),p++),o.addClass("fitsinfilter"))}),e.nonefiltereditems=a.find(".itemtoshow, .fitsinfilter").length,"none"!=e.loadMoreType){var h=0,g=!1;c.each(function(){var e=jQuery(this).data("filter");if(e!=undefined){var t=a.find("."+e).length;h+=t,0==t&&(g=!0)}}),0!=c.length&&1!=c.length||(h=1),(0==h||g)&&loadMoreItems(e)}var f=jQuery(e.filterGroupClass+".esg-pagination,"+e.filterGroupClass+" .esg-pagination");f.find(".esg-pagination").remove(),f.html(""),e.maxpage=0;var m,w=Math.ceil(e.nonefiltereditems/i);if(e.realmaxpage=w,w>7&&"on"==e.smartPagination)if(e.currentpage<3){for(t=0;t<4;t++)m=t==e.currentpage?"selected":"",e.maxpage++,f.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+m+'" data-page="'+t+'">'+(t+1)+"</div>");f.append('<div class="esg-navigationbutton">...</div>'),f.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+m+'" data-page="'+(w-1)+'">'+w+"</div>")}else if(w-e.currentpage<4)for(f.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+m+'" data-page="0">1</div>'),f.append('<div class="esg-navigationbutton">...</div>'),t=w-4;t<w;t++)m=t==e.currentpage?"selected":"",e.maxpage++,f.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+m+'" data-page="'+t+'">'+(t+1)+"</div>");else{for(f.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+m+'" data-page="0">1</div>'),f.append('<div class="esg-navigationbutton">...</div>'),t=e.currentpage-1;t<e.currentpage+2;t++)m=t==e.currentpage?"selected":"",e.maxpage++,f.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+m+'" data-page="'+t+'">'+(t+1)+"</div>");f.append('<div class="esg-navigationbutton">...</div>'),f.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+m+'" data-page="'+(w-1)+'">'+w+"</div>")}else for(t=0;t<w;t++)m=t==e.currentpage?"selected":"",e.maxpage++,f.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+m+'" data-page="'+t+'">'+(t+1)+"</div>");if(1==e.maxpage?(jQuery(e.filterGroupClass+".esg-navigationbutton,"+e.filterGroupClass+" .esg-navigationbutton").not(".esg-loadmore").css({display:"none"}),f.css({display:"none"})):(jQuery(e.filterGroupClass+".esg-navigationbutton,"+e.filterGroupClass+" .esg-navigationbutton").css({display:"inline-block"}),f.css({display:"inline-block"})),e.currentpage>=Math.ceil(e.nonefiltereditems/i)){e.oldpage=e.currentpage,e.currentpage=0;var v=0;a.find(".itemtoshow, .fitsinfilter").each(function(){++v<d&&jQuery(this).removeClass("itemonotherpage")}),f.find(".esg-pagination-button").first().addClass("selected")}e.currentpage<0&&(e.currentpage=0),f.find(".esg-pagination-button").on("click",function(){stopAllVideos(!0),e.oldpage=e.currentpage,e.currentpage=jQuery(this).data("page");var t=getBestFitColumn(e=getOptions(a),jQuery(window).width(),"id");e.column=t.column,e.columnindex=t.index,e.mmHeight=t.mmHeight,"on"===e.cookies.pagination&&!0!==e.cookies.searchjusttriggered&&createCookie("grid_"+e.girdID+"_pagination",e.currentpage,e.cookies.timetosave*(1/60/60)),setItemsOnPages(e),organiseGrid(e,"paginholder"),setOptions(a,e),"on"==e.paginationScrollToTop&&jQuery("html, body").animate({scrollTop:a.offset().top-e.paginationScrollToTopOffset},{queue:!1,speed:.5})}),e.firstshowever==undefined&&jQuery(e.filterGroupClass+".esg-navigationbutton,"+e.filterGroupClass+" .esg-navigationbutton").css({visibility:"hidden"})}function waittorungGrid(e,t,a){var o=e.closest(".mainul");clearTimeout(o.data("intreorganisier")),o.hasClass("gridorganising")?o.data("intreorganisier",setTimeout(function(){waittorungGrid(e,t,a)},10)):runGrid(t,a)}function loadHoverImage(e){var t=e.parent().find(".esg-hover-image");t.length&&t.css("background-image",'url("'+t.data("src")+'")').appendTo(e)}function loadAllPrepared(e,t){if(1==e.data("preloading"))return!1;var a=new Image;e.data("lazysrc")!=e.attr("src")&&e.data("lazysrc")!=undefined&&"undefined"!=e.data("lazysrc")&&e.data("lazysrc")!=undefined&&"undefined"!=e.data("lazysrc")&&e.attr("src",e.data("lazysrc")),e.data("preloading",1),a.onload=function(o){e.data("lazydone",1),e.data("ww",a.width),e.data("hh",a.height),e.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),removeLLCover(e,a.width,a.height),loadHoverImage(e),"on"==t.lazyLoad&&waittorungGrid(e,t,!0)},a.onerror=function(){e.data("lazydone",1),e.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),"on"==t.lazyLoad&&waittorungGrid(e,t,!0)},e.attr("src")!=undefined&&"undefined"!=e.attr("src")?a.src=e.attr("src"):e.data("src")!=undefined&&"undefined"!=e.data("src")&&(a.src=e.data("src")),a.complete&&(e.data("lazydone",1),e.data("ww",a.width),e.data("hh",a.height),e.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),removeLLCover(e,a.width,a.height),"on"==t.lazyLoad&&waittorungGrid(e,t,!0))}function organiseGrid(e,t){waitForLoads(e.container.find(".itemtoshow"),e)}function removeLLCover(e,t,a){var o=e.parent();setMediaEntryAspectRatio({ip:o,img:e,imgw:t,imgh:a}),!e.hasClass("coverremoved")&&o.find(".lazyloadcover").length>0?(e.addClass("coverremoved"),punchgs.TweenLite.set(o.find(".lazyloadcover"),{zIndex:0}),punchgs.TweenLite.fromTo(e,.5,{autoAlpha:0,zIndex:1},{force3D:!0,autoAlpha:1,ease:punchgs.Power1.easeInOut,onComplete:function(){e.parent().find(".lazyloadcover").remove()}})):"off"==opt.lazyLoad&&punchgs.TweenLite.set(e,{force3D:!0,autoAlpha:1})}function runGrid(e,t){var a=e.container;"scroll"==e.loadMoreType&&checkBottomPos(e),e.firstshowever==undefined?(a.is(":hidden")&&punchgs.TweenLite.set(a,{autoAlpha:1,display:"block"}),runGridMain(e,t),jQuery(e.filterGroupClass+".esg-navigationbutton, "+e.filterGroupClass+" .esg-navigationbutton").css({visibility:"visible"}),e.firstshowever=1):(runGridMain(e,t),jQuery(e.filterGroupClass+".esg-navigationbutton, "+e.filterGroupClass+" .esg-navigationbutton").css({visibility:"visible"}))}function getCobblePat(e,t){var a={};return a.w=1,a.h=1,(e=e.split(","))!=undefined&&(e=e[t-Math.floor(t/e.length)*e.length].split("x"),a.w=e[0],a.h=e[1]),a}function runGridMain(e,t){var a,o=e.container,i=o.find(".itemtoshow, .isvisiblenow").not(".ui-sortable-helper"),r={},n=o.find("ul").first(),s=e.aspectratio,l=0;e.aspectratioOrig=e.aspectratio,o.find(".mainul").addClass("gridorganising"),s=s.split(":"),a=parseInt(s[0],0)/parseInt(s[1],0),r.item=0,r.pagetoanimate=0-e.currentpage,r.col=0,r.row=0,r.pagecounter=0,r.itemcounter=0,r.fakecol=0,r.fakerow=0,r.maxheight=0,r.allcol=0,r.allrow=0,r.ulcurheight=0,r.ulwidth=n.width(),r.verticalsteps=1,r.currentcolumnheight=[];for(var u=0;u<e.column;u++)r.currentcolumnheight[u]=0;r.pageitemcounterfake=0,r.pageitemcounter=0,e.delayBasic!=undefined?r.delaybasic=e.delayBasic:r.delaybasic=.08,r.anim=e.pageAnimation,r.itemtowait=0,r.itemouttowait=0,r.ease="punchgs.Power1.easeInOut",r.easeout=r.ease,r.row=0,r.col=0;var d=e.rowItemMultiplier,c=d.length;r.y=0,r.fakey=0,o.find(".esg-overflowtrick").css({width:"100%"}),100==o.find(".esg-overflowtrick").width()&&o.find(".esg-overflowtrick").css({width:o.find(".esg-overflowtrick").parent().width()}),r.cwidth=o.find(".esg-overflowtrick").width()-2*e.overflowoffset,e.inanimation=!0,r.cwidth_n_spaces=r.cwidth-(e.column-1)*e.space,r.itemw=Math.round(r.cwidth_n_spaces/e.column),r.originalitemw=r.itemw;var p=!1;if("on"==e.forceFullScreen){if(l=jQuery(window).height(),e.fullScreenOffsetContainer!=undefined)try{var h=e.fullScreenOffsetContainer.split(",");jQuery.each(h,function(t,a){(l-=jQuery(a).outerHeight(!0))<e.minFullScreenHeight&&(l=e.minFullScreenHeight)})}catch(e){}p=!0}"even"==e.layout?(r.itemh=0==Math.round(l)?Math.round(r.cwidth_n_spaces/e.column/a):Math.round(l/e.row),e.aspectratio=0==l?e.aspectratio:r.itemw+":"+r.itemh,c>0?punchgs.TweenLite.set(i,{display:"block",visibility:"visible",overwrite:"auto"}):"on"==e.evenCobbles?punchgs.TweenLite.set(i,{display:"block",visibility:"visible",overwrite:"auto"}):punchgs.TweenLite.set(i,{display:"block",width:r.itemw,height:r.itemh,visibility:"visible",overwrite:"auto"})):punchgs.TweenLite.set(i,{display:"block",width:r.itemw,height:"auto",visibility:"visible",overwrite:"auto"}),t||punchgs.TweenLite.killTweensOf(i),r.originalitemh=r.itemh;for(var g=[],f=e.row*e.column*2,m=0;m<f;m++){for(var w=[],v=0;v<e.column;v++)w.push(0);g.push(w)}var y=0;0==i.length&&o.trigger("itemsinposition"),jQuery.each(i,function(t,i){var s,u,h=jQuery(i);if(r.itemw=r.originalitemw,punchgs.TweenLite.set(h.find(".esg-entry-content"),{minHeight:e.mmHeight+"px"}),"on"!=e.evenCobbles||h.hasClass("itemonotherpage")||h.hasClass("itemishidden")){var m=r.row-c*Math.floor(r.row/c);"even"==e.layout&&c>0&&(e.column=d[m][e.columnindex],r.cwidth=o.find(".esg-overflowtrick").width()-2*e.overflowoffset,r.cwidth_n_spaces=r.cwidth-(e.column-1)*e.space,r.itemw=Math.round(r.cwidth_n_spaces/e.column),r.itemh=0==l?r.cwidth_n_spaces/e.column/a:l/e.row,e.aspectratio=0==l?e.aspectratio:r.itemw+":"+r.itemh,punchgs.TweenLite.set(h,{width:r.itemw,height:r.itemh,overwrite:"auto"})),p&&(u=h.find(".esg-entry-media"),s=r.itemh/r.itemw*100)}else{var w=h.data("cobblesw"),v=h.data("cobblesh");if(e.cobblesPattern!=undefined&&e.cobblesPattern.length>2){var b=getCobblePat(e.cobblesPattern,y);w=parseInt(b.w,0),v=parseInt(b.h,0),y++}w=w==undefined?1:w,v=v==undefined?1:v,e.column<w&&(w=e.column),r.cobblesorigw=r.originalitemw,r.cobblesorigh=r.originalitemh,r.itemw=r.itemw*w+(w-1)*e.space,r.itemh=r.originalitemh,r.itemh=r.itemh*v+(v-1)*e.space;var x=!1,j=0,C=0;switch(w+":"+v){case"1:1":do{0==g[j][C]&&(g[j][C]="1:1",x=!0,r.cobblesx=C,r.cobblesy=j),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x);break;case"1:2":do{0==g[j][C]&&j<f-1&&0==g[j+1][C]&&(g[j][C]="1:2",g[j+1][C]="1:2",r.cobblesx=C,r.cobblesy=j,x=!0),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x);break;case"1:3":do{0==g[j][C]&&j<f-2&&0==g[j+1][C]&&0==g[j+2][C]&&(g[j][C]="1:3",g[j+1][C]="1:3",g[j+2][C]="1:3",r.cobblesx=C,r.cobblesy=j,x=!0),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x);break;case"2:1":do{0==g[j][C]&&C<e.column-1&&0==g[j][C+1]&&(g[j][C]="2:1",g[j][C+1]="2:1",r.cobblesx=C,r.cobblesy=j,x=!0),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x);break;case"3:1":do{0==g[j][C]&&C<e.column-2&&0==g[j][C+1]&&0==g[j][C+2]&&(g[j][C]="3:1",g[j][C+1]="3:1",g[j][C+2]="3:1",r.cobblesx=C,r.cobblesy=j,x=!0),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x);break;case"2:2":do{C<e.column-1&&j<f-1&&0==g[j][C]&&0==g[j][C+1]&&0==g[j+1][C]&&0==g[j+1][C+1]&&(g[j][C]="2:2",g[j+1][C]="2:2",g[j][C+1]="2:2",g[j+1][C+1]="2:2",r.cobblesx=C,r.cobblesy=j,x=!0),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x);break;case"3:2":do{C<e.column-2&&j<f-1&&0==g[j][C]&&0==g[j][C+1]&&0==g[j][C+2]&&0==g[j+1][C]&&0==g[j+1][C+1]&&0==g[j+1][C+2]&&(g[j][C]="3:2",g[j][C+1]="3:2",g[j][C+2]="3:2",g[j+1][C]="3:2",g[j+1][C+1]="3:2",g[j+1][C+2]="3:2",r.cobblesx=C,r.cobblesy=j,x=!0),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x);break;case"2:3":do{C<e.column-1&&j<f-2&&0==g[j][C]&&0==g[j][C+1]&&0==g[j+1][C]&&0==g[j+1][C+1]&&0==g[j+2][C+1]&&0==g[j+2][C+1]&&(g[j][C]="2:3",g[j][C+1]="2:3",g[j+1][C]="2:3",g[j+1][C+1]="2:3",g[j+2][C]="2:3",g[j+2][C+1]="2:3",r.cobblesx=C,r.cobblesy=j,x=!0),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x);break;case"3:3":do{C<e.column-2&&j<f-2&&0==g[j][C]&&0==g[j][C+1]&&0==g[j][C+2]&&0==g[j+1][C]&&0==g[j+1][C+1]&&0==g[j+1][C+2]&&0==g[j+2][C]&&0==g[j+2][C+1]&&0==g[j+2][C+2]&&(g[j][C]="3:3",g[j][C+1]="3:3",g[j][C+2]="3:3",g[j+1][C]="3:3",g[j+1][C+1]="3:3",g[j+1][C+2]="3:3",g[j+2][C]="3:3",g[j+2][C+1]="3:3",g[j+2][C+2]="3:3",r.cobblesx=C,r.cobblesy=j,x=!0),++C==e.column&&(C=0,j++),j>=f&&(x=!0)}while(!x)}e.aspectratio=r.itemw+":"+r.itemh,punchgs.TweenLite.set(h,{width:r.itemw,height:r.itemh,overwrite:"auto"}),u=h.find(".esg-entry-media"),s=r.itemh/r.itemw*100,punchgs.TweenLite.set(u,{paddingBottom:s+"%"})}"even"==e.layout||(h.hasClass("itemtoshow")&&(h.width()!=r.itemw||0==h.css("opacity")||"hidden"==h.css("visibility"))?r=prepareItemToMessure(h,r,o):(adjustMediaSize(h,!0,r,e),r.itemh=h.height())),(r=animateGrid(i,e,r)).itemcounter++,n.height()<r.maxheight&&o.trigger("itemsinposition")}),e.aspectratio=e.aspectratioOrig,0==r.itemtowait&&(e.container.trigger("itemsinposition"),o.find(".mainul").removeClass("gridorganising"));var b=getBestFitColumn(e,jQuery(window).width(),"id");if(e.column=b.column,e.columnindex=b.index,e.mmHeight=b.mmHeight,e.maxheight=r.maxheight,e.container.trigger("itemsinposition"),e.inanimation=!0,e.started=!1,e.filterchanged=!1,e.silent=!1,e.silentout=!1,e.changedAnim="",setOptions(o,e),e.esgloader.length>0&&"remove"!=e.esgloaderprocess){e.esgloaderprocess="remove";var x=0;e.esgloader.hasClass("infinityscollavailable")&&(x=1),punchgs.TweenLite.to(e.esgloader,1,{autoAlpha:0,ease:punchgs.Power3.easeInOut,delay:x})}}function prepareItemToMessure(e,t,a){return adjustMediaSize(e,!0,t,a.data("opt")),t.itemh=e.outerHeight(!0),t}function animateGrid(e,t,a){var o=jQuery(e);if(a.skipanim=!1,a.x=Math.round(a.col*a.itemw),"even"==t.layout);else{a.idealcol=0,a.backupcol=a.col;for(var i=0;i<t.column;i++)a.currentcolumnheight[a.idealcol]>a.currentcolumnheight[i]&&(a.idealcol=i);a.y=a.currentcolumnheight[a.idealcol],a.x=Math.round(a.idealcol*a.itemw)+a.idealcol*t.space,a.col=a.idealcol,a.itemh==undefined&&(a.itemh=0)}if(a.cobblesx!=undefined&&(a.x=a.cobblesx*a.cobblesorigw,a.y=a.cobblesy*a.cobblesorigh),a.waits=a.col*a.delaybasic+a.row*(a.delaybasic*t.column),a.speed=t.animSpeed,a.inxrot=0,a.inyrot=0,a.outxrot=0,a.outyrot=0,a.inorigin="center center",a.outorigin="center center",a.itemh=Math.round(a.itemh),a.scale=1,a.outfade=0,a.infade=0,o.hasClass("itemonotherpage")&&(a.skipanim=!0),"horizontal-slide"==a.anim?(a.waits=0,a.hsoffset=0-a.cwidth-parseInt(t.space),a.hsoffsetout=0-a.cwidth-parseInt(t.space),t.oldpage!=undefined&&t.oldpage>t.currentpage&&(a.hsoffset=a.cwidth+parseInt(t.space),a.hsoffsetout=a.cwidth+parseInt(t.space))):"vertical-slide"==a.anim&&(a.waits=0,a.maxcalcheight=t.row*t.space+t.row*a.itemh,a.vsoffset=a.maxcalcheight+parseInt(t.space),a.vsoffsetout=a.maxcalcheight+parseInt(t.space),t.oldpage!=undefined&&t.oldpage>t.currentpage&&(a.vsoffset=0-a.maxcalcheight-parseInt(t.space),a.vsoffsetout=0-a.maxcalcheight-parseInt(t.space))),a.outwaits=a.waits,"even"==t.layout&&a.cobblesx==undefined&&(a.x=a.x+a.col*t.space),a.cobblesx!=undefined&&(a.x=a.x+a.cobblesx*t.space,a.y=a.y+a.cobblesy*t.space),"vertical-flip"!=a.anim&&"horizontal-flip"!=a.anim&&"vertical-flipbook"!=a.anim&&"horizontal-flipbook"!=a.anim||(a=fakePositions(o,a,t)),"vertical-flip"==a.anim?(a.inxrot=-180,a.outxrot=180):"horizontal-flip"==a.anim&&(a.inyrot=-180,a.outyrot=180),a.outspeed=a.speed,"off"==t.animDelay&&(a.waits=0,a.outwaits=0),"scale"==a.anim?a.scale=0:"vertical-flipbook"==a.anim?(a.inxrot=-90,a.outxrot=90,a.inorigin="center top",a.outorigin="center bottom",a.waits=a.waits+a.speed/3,a.outfade=1,a.infade=1,a.outspeed=a.speed/1.2,a.ease="Sine.easeOut",a.easeout="Sine.easeIn","off"==t.animDelay&&(a.waits=a.speed/3,a.outwaits=0)):"horizontal-flipbook"==a.anim?(a.inyrot=-90,a.outyrot=-90,a.inorigin="left center",a.outorigin="right center",a.waits=a.waits+a.speed/2.4,a.outfade=1,a.infade=1,a.outspeed=a.speed/1.2,a.ease="Sine.easeOut",a.easeout="Sine.easeIn","off"==t.animDelay&&(a.waits=a.speed/3,a.outwaits=0)):"fall"!=a.anim&&"rotatefall"!=a.anim||(a.outoffsety=100,(a=fakePositions(o,a,t)).outfade=0),"rotatefall"==a.anim?(a.rotatez=20,a.outorigin="left top",a.outfade=1,a.outoffsety=600):"rotatescale"==a.anim?(a.scale=0,a.inorigin="left bottom",a.outorigin="center center",a.faeout=1,a.outoffsety=100,a=fakePositions(o,a,t)):"stack"==a.anim&&(a.scale=0,a.inorigin="center center",a.faeout=1,a.ease="punchgs.Power3.easeOut",(a=fakePositions(o,a,t)).ease="Back.easeOut"),t.silent&&(a.waits=0,a.outwaits=0,a.speed=0,a.outspeed=0),t.silentout&&(a.outwaits=0,a.outspeed=.4,a.speed=.4,a.ease="punchgs.Power3.easeOut",a.easeout=a.ease),a.hooffset=t.overflowoffset,a.vooffset=t.overflowoffset,a.itemw+a.x-a.cwidth<20&&a.itemw+a.x-a.cwidth>-20){var r=a.itemw+a.x-a.cwidth;a.itemw=a.itemw-r}if(!o.hasClass("itemtoshow")&&!o.hasClass("fitsinfilter")||a.skipanim)a.itemouttowait++,punchgs.TweenLite.set(o,{zIndex:5}),o.removeClass("isvisiblenow"),o.css("opacity")>0?"stack"==a.anim?(punchgs.TweenLite.set(o,{zIndex:a.pageitemcounterfake+100}),punchgs.TweenLite.to(o,a.outspeed/2,{force3D:"auto",x:-20-a.itemw,rotationY:30,rotationX:10,ease:Sine.easeInOut,delay:a.outwaits}),punchgs.TweenLite.to(o,.01,{force3D:"auto",zIndex:a.pageitemcounterfake,delay:a.outwaits+a.outspeed/3}),punchgs.TweenLite.to(o,.2*a.outspeed,{force3D:"auto",delay:a.outwaits+.9*a.outspeed,autoAlpha:0,ease:Sine.easeInOut}),punchgs.TweenLite.to(o,a.outspeed/3,{zIndex:2,force3D:"auto",x:0,scale:.9,rotationY:0,rotationX:0,ease:Sine.easeInOut,delay:a.outwaits+a.outspeed/1.4,onComplete:function(){o.hasClass("itemtoshow")||punchgs.TweenLite.set(o,{autoAlpha:0,overwrite:"all",display:"none"}),0==--a.itemouttowait&&t.container.trigger("itemsinposition")}})):"horizontal-flipbook"==a.anim||"vertical-flipbook"==a.anim?punchgs.TweenLite.to(o,a.outspeed,{force3D:"auto",zIndex:2,scale:a.scale,autoAlpha:a.outfade,transformOrigin:a.outorigin,rotationX:a.outxrot,rotationY:a.outyrot,ease:a.easeout,delay:a.outwaits,onComplete:function(){o.hasClass("itemtoshow")||punchgs.TweenLite.set(o,{autoAlpha:0,overwrite:"all",display:"none"}),0==--a.itemouttowait&&t.container.trigger("itemsinposition")}}):"fall"==a.anim?punchgs.TweenLite.to(o,a.outspeed,{zIndex:2,force3D:"auto",y:a.outoffsety,autoAlpha:0,ease:a.easeout,delay:a.outwaits,onComplete:function(){o.hasClass("itemtoshow")||punchgs.TweenLite.set(o,{autoAlpha:0,overwrite:"all",display:"none"}),0==--a.itemouttowait&&t.container.trigger("itemsinposition")}}):"horizontal-slide"==a.anim?punchgs.TweenLite.to(o,a.outspeed,{zIndex:2,force3D:"auto",autoAlpha:1,left:a.hooffset+o.position().left+a.hsoffsetout,top:a.vooffset+o.position().top,ease:a.easeout,delay:a.outwaits,onComplete:function(){punchgs.TweenLite.set(o,{autoAlpha:0,overwrite:"all",display:"none"}),0==--a.itemouttowait&&t.container.trigger("itemsinposition")}}):"vertical-slide"==a.anim?punchgs.TweenLite.to(o,a.outspeed,{zIndex:2,force3D:"auto",autoAlpha:1,left:a.hooffset+o.position().left,top:a.vooffset+o.position().top+a.vsoffsetout,ease:a.easeout,delay:a.outwaits,onComplete:function(){punchgs.TweenLite.set(o,{autoAlpha:0,overwrite:"all",display:"none"}),0==--a.itemouttowait&&t.container.trigger("itemsinposition")}}):"rotatefall"==a.anim&&o.css("opacity")>0?(punchgs.TweenLite.set(o,{zIndex:300-a.item}),punchgs.TweenLite.to(o,a.outspeed/2,{force3D:"auto",transformOrigin:a.outorigin,ease:"punchgs.Bounce.easeOut",rotationZ:a.rotatez,delay:a.outwaits}),punchgs.TweenLite.to(o,a.outspeed/2,{zIndex:2,force3D:"auto",autoAlpha:0,y:a.outoffsety,ease:punchgs.Power3.easeIn,delay:a.outwaits+a.outspeed/3})):punchgs.TweenLite.to(o,a.outspeed,{force3D:"auto",zIndex:2,scale:a.scale,autoAlpha:a.outfade,transformOrigin:a.outorigin,rotationX:a.outxrot,rotationY:a.outyrot,ease:a.easeout,delay:a.outwaits,onComplete:function(){o.hasClass("itemtoshow")||punchgs.TweenLite.set(o,{autoAlpha:0,overwrite:"all",display:"none"}),0==--a.itemouttowait&&t.container.trigger("itemsinposition")}}):punchgs.TweenLite.set(o,{zIndex:2,scale:a.scale,autoAlpha:0,transformOrigin:a.outorigin,rotationX:a.outxrot,rotationY:a.outyrot,onComplete:function(){o.hasClass("itemtoshow")||punchgs.TweenLite.set(o,{autoAlpha:0,overwrite:"all",display:"none"}),0==--a.itemouttowait&&t.container.trigger("itemsinposition")}}),a=shiftGridFake(a,t);else{o.addClass("isvisiblenow"),"even"!=t.layout?(a.currentcolumnheight[a.idealcol]=a.currentcolumnheight[a.idealcol]+a.itemh+parseInt(t.space),a.ulcurheight<a.currentcolumnheight[a.idealcol]&&(a.ulcurheight=a.currentcolumnheight[a.idealcol])):a.ulcurheight=a.y+a.itemh,a.maxheight<a.ulcurheight&&(a.maxheight=a.ulcurheight),a.itemtowait++;var n=Math.round(a.hooffset+a.x),s=Math.round(a.vooffset+a.y);"on"==t.rtl&&(n=a.ulwidth-n-a.itemw),0==o.css("opacity")&&"fade"==a.anim?punchgs.TweenLite.set(o,{opacity:0,autoAlpha:0,width:a.itemw,height:a.itemh,scale:1,left:n,y:0,top:s,overwrite:"all"}):0==o.css("opacity")&&"scale"==a.anim?punchgs.TweenLite.set(o,{width:a.itemw,height:a.itemh,scale:0,left:n,y:0,top:s,overwrite:"all"}):0==o.css("opacity")&&"rotatescale"==a.anim?punchgs.TweenLite.set(o,{width:a.itemw,height:a.itemh,scale:1,left:n,top:s,xPercent:150,yPercent:150,rotationZ:20,overwrite:"all"}):0==o.css("opacity")&&"fall"==a.anim?punchgs.TweenLite.set(o,{width:a.itemw,height:a.itemh,scale:.5,left:n,top:s,y:0,overwrite:"all"}):0==o.css("opacity")&&"rotatefall"==a.anim&&punchgs.TweenLite.set(o,{autoAlpha:0,width:a.itemw,height:a.itemh,left:n,rotationZ:0,top:s,y:0,overwrite:"all"}),0!=o.css("opacity")||"vertical-flip"!=a.anim&&"horizontal-flip"!=a.anim&&"vertical-flipbook"!=a.anim&&"horizontal-flipbook"!=a.anim||punchgs.TweenLite.set(o,{autoAlpha:a.infade,zIndex:10,scale:1,y:0,transformOrigin:a.inorigin,rotationX:a.inxrot,rotationY:a.inyrot,width:a.itemw,height:a.itemh,left:n,top:s,overwrite:"all"}),"stack"==a.anim&&punchgs.TweenLite.set(o,{zIndex:a.pageitemcounter,scale:.5,autoAlpha:1,left:n,top:s}),"horizontal-slide"==a.anim&&0==o.css("opacity")&&punchgs.TweenLite.set(o,{autoAlpha:1,left:Math.round(a.hooffset+(a.x-a.hsoffset)),top:s,width:a.itemw,height:a.itemh}),"vertical-slide"==a.anim&&0==o.css("opacity")&&punchgs.TweenLite.set(o,{autoAlpha:1,left:n,top:Math.round(a.vooffset+a.y-a.vsoffset),width:a.itemw,height:a.itemh});var l=o.find(".esg-entry-cover"),u=o.find(".esg-entry-media");if(l&&u){var d=u.outerHeight(),c=o.find(".esg-cc");punchgs.TweenLite.to(l,.01,{height:d,ease:a.ease,delay:a.waits}),punchgs.TweenLite.to(c,.01,{top:(d-c.height())/2,ease:a.ease,delay:a.waits})}t.container.trigger("itemsinposition"),punchgs.TweenLite.to(o,a.speed,{force3D:"auto",autoAlpha:1,scale:1,transformOrigin:a.inorigin,rotationX:0,rotationY:0,y:0,x:0,xPercent:0,yPercent:0,z:.1,rotationZ:0,left:n,top:s,ease:a.ease,delay:a.waits,onComplete:function(){o.hasClass("itemtoshow")&&punchgs.TweenLite.set(o,{autoAlpha:1,overwrite:"all"}),0==--a.itemtowait&&(t.container.trigger("itemsinposition"),o.closest(".mainul").removeClass("gridorganising"))}}),"masonry"==t.layout&&(a.col=a.backupcol),a=shiftGrid(a,t,o)}return a}function fakePositions(e,t,a){if(!e.hasClass("itemtoshow")&&!e.hasClass("fitsinfilter")||t.skipanim){var o=e.data("col"),i=e.data("row");o!=undefined&&i!=undefined||0!=t.x&&0!=t.y&&(t.x=Math.round(t.fakecol*t.itemw),t.y=t.fakey,o=t.fakecol,i=t.fakerow,e.data("col",t.fakecol),e.data("row",t.fakerow)),"rotatefall"==t.anim?t.outwaits=(a.column-o)*t.delaybasic+i*(t.delaybasic*a.column):t.outwaits=o*t.delaybasic+i*(t.delaybasic*a.column)}else;return t}function shiftGrid(e,t,a){if(a.data("col",e.col),a.data("row",e.row),e.pageitemcounter++,e.col=e.col+e.verticalsteps,e.allcol++,e.col==t.column&&(e.col=0,e.row++,e.allrow++,e.y=parseFloat(e.y)+parseFloat(e.itemh)+parseFloat(t.space),e.row==t.row&&(e.row=0,e.pageitemcounter>=t.column*t.row&&(e.pageitemcounter=0),e.pagetoanimate=e.pagetoanimate+1,e.pagecounter++,0==e.pageitemcounter)))for(var o=0;o<t.column;o++)e.currentcolumnheight[o]=0;return e}function shiftGridFake(e,t){return e.fakecol=e.fakecol+1,e.pageitemcounterfake++,e.fakecol==t.column&&(e.fakecol=0,e.fakerow++,e.fakey=e.fakey+e.itemh+t.space,e.fakerow==t.row&&(e.fakerow=0,e.pageitemcounterfake=0)),e}function loadVideoApis(e,t){var a=0,o=0,i=0,r=0,n="http";return"https:"===location.protocol&&(n="https"),e.find("iframe").each(function(e){try{if(jQuery(this).attr("src").indexOf("you")>0&&0==a){a=1;var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0],i=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(i=!1)}),i&&o.parentNode.insertBefore(t,o)}}catch(e){}}),e.find("iframe").each(function(e){try{if(jQuery(this).attr("src").indexOf("ws")>0&&0==i){i=1;var t=document.createElement("script");t.src=n+"://fast.wistia.com/assets/external/E-v1.js";var a=document.getElementsByTagName("script")[0],o=!0;jQuery("head").find("*").each(function(){jQuery(this).attr("src")==n+"://fast.wistia.com/assets/external/E-v1.js"&&(o=!1)}),o&&a.parentNode.insertBefore(t,a)}}catch(e){}}),e.find("iframe").each(function(e){try{if(jQuery(this).attr("src").indexOf("vim")>0&&0==o){o=1;var t=document.createElement("script");t.src="https://player.vimeo.com/api/player.js";var a=document.getElementsByTagName("script")[0],i=!0;jQuery("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==jQuery(this).attr("src")&&(i=!1)}),i&&a.parentNode.insertBefore(t,a)}}catch(e){}}),e.find("iframe").each(function(e){try{if(jQuery(this).attr("src").indexOf("soundcloud")>0&&0==r){r=1;var t=document.createElement("script");t.src=n+"://w.soundcloud.com/player/api.js";var a=document.getElementsByTagName("script")[0],o=!0;jQuery("head").find("*").each(function(){jQuery(this).attr("src")==n+"://w.soundcloud.com/player/api.js"&&(o=!1)}),o&&a.parentNode.insertBefore(t,a)}}catch(e){}}),{youtube:a,vimeo:o,wistia:i,soundcloud:r,htmlvid:0}}function stopAllVideos(e,t,a,o){var i=" isplaying";e&&(i="");var r;r=o?jQuery(".tp-esg-item").not(".isvisiblenow").toArray():document.getElementsByClassName("tp-esg-item isvisiblenow");for(var n=0;n<r.length;n++){var s,l,u,d,c=r[n].getElementsByClassName("esg-youtubevideo haslistener"+i),p=r[n].getElementsByClassName("esg-vimeovideo haslistener"+i),h=r[n].getElementsByClassName("esg-wistiavideo haslistener"+i),g=r[n].getElementsByClassName("esg-htmlvideo haslistener"+i),f=r[n].getElementsByClassName("esg-soundcloud"+i);for(d=0;d<c.length;d++)s=(l=jQuery(c[d])).data("player"),a!=l.attr("id")&&(s.pauseVideo(),e&&forceVideoInPause(l,!0,s,"youtube"));for(d=0;d<p.length;d++)u=(l=jQuery(p[d])).attr("id"),s=l.data("newvimeoplayer"),a!=u&&(s.pause(),a===undefined&&e&&forceVideoInPause(l,!0,s,"vimeo"));for(d=0;d<h.length;d++)s=(l=jQuery(h[d])).data("player"),a!=l.attr("id")&&(l.wistiaApi.pause(),e&&forceVideoInPause(l,!0,s,"wistia"));for(d=0;d<g.length;d++)u=(l=jQuery(g[d])).attr("id"),s=document.getElementById(u),a!=u&&(s.pause(),e&&forceVideoInPause(l,!0,s,"html5vid"));for(d=0;d<f.length;d++)s=(l=jQuery(f[d])).data("player"),a!=l.attr("id")&&(s.pause(),e&&forceVideoInPause(l,!0,s,"soundcloud"))}}function forceVideoInPause(e,t,a,o){e.removeClass("isplaying");var i=e.closest(".tp-esg-item");if(i.find(".esg-media-video").length>0&&!jQuery("body").data("fullScreenMode")){var r=i.find(".esg-entry-cover"),n=i.find(".esg-media-poster");if(n.length>0)if(is_mobile()?(punchgs.TweenLite.set(r,{autoAlpha:1}),punchgs.TweenLite.set(n,{autoAlpha:1}),punchgs.TweenLite.set(e,{autoAlpha:0})):(punchgs.TweenLite.to(r,.5,{autoAlpha:1}),punchgs.TweenLite.to(n,.5,{autoAlpha:1}),punchgs.TweenLite.to(e,.5,{autoAlpha:0})),t)if("youtube"==o)try{a.destroy()}catch(e){}else if("vimeo"==o)try{a.unload()}catch(e){}else if("wistia"==o)try{a.end()}catch(e){}else"html5vid"!=o&&(e.removeClass("haslistener"),e.removeClass("readytoplay"));else setTimeout(function(){is_mobile()||e.css({display:"none"})},500)}}function onPlayerStateChange(e){var t=e.target.getIframe(),a=jQuery(t);if(clearTimeout(a.data("esgplayertimer")),e.data==YT.PlayerState.PLAYING&&(e.target.setPlaybackQuality("hd1080"),stopAllVideos(!0,!1,t.id),a.addClass("isplaying").removeClass("isinpause")),2==e.data){var o=e.target;a.data("esgplayertimer",setTimeout(function(){2==o.getPlayerState()&&(forceVideoInPause(a),o.pauseVideo())},100))}0==e.data&&forceVideoInPause(a)}function vimeoready_auto(e){var t=e.data("newvimeoplayer");t||(t=new Vimeo.Player(e[0]),e.data("newvimeoplayer",t)),e.addClass("readytoplay"),t.on("play",function(t){stopAllVideos(!0,!1,e.attr("id")),e.addClass("isplaying"),e.removeClass("isinpause")}),t.on("finish",function(t){forceVideoInPause(e),e.removeClass("isplaying")}),t.on("pause",function(t){forceVideoInPause(e),e.removeClass("isplaying")}),t.on("error",function(){console.log("vimeo error occured")})}function html5vidready(e,t,a){function o(){i?i=!1:(forceVideoInPause(t),t.removeClass("isplaying"))}var i,r;t.addClass("readytoplay"),t.on("play",function(){i||(i=!1,stopAllVideos(!0,!1,a),t.addClass("isplaying"),t.removeClass("isinpause"))}),t.on("pause",function(){clearTimeout(r),r=setTimeout(o,100)}),t.on("ended",function(){forceVideoInPause(t),t.removeClass("isplaying")}),t.on("seeking",function(){i=!0})}function prepareYT(e){var t,a="ytiframe"+Math.round(1e5*Math.random()+1);if(e.hasClass("haslistener")||"undefined"==typeof YT)return(t=e.data("player"))!=undefined&&"function"==typeof t.playVideo;try{e.attr("id",a),t=new YT.Player(a,{events:{onStateChange:onPlayerStateChange}}),e.data("player",t),e.addClass("haslistener").addClass("esg-youtubevideo")}catch(e){return!1}}function playYT(e){var t=e.data("player");t!=undefined&&"function"==typeof t.playVideo&&t.playVideo()}function prepareVimeo(e){if(e.hasClass("haslistener")||"undefined"==typeof Vimeo)return"undefined"!=typeof Vimeo&&!(!e.data("newvimeoplayer")||!e.hasClass("readytoplay"));try{var t="vimeoiframe"+Math.round(1e5*Math.random()+1);e.attr("id",t);for(var a,o=e.attr("src"),i={},r=o,n=/([^&=]+)=([^&]*)/g;a=n.exec(r);)i[decodeURIComponent(a[1])]=decodeURIComponent(a[2]);o=(o=i.player_id!=undefined?o.replace(i.player_id,t):o+"&player_id="+t).replace(/&api=0|&api=1/,""),e.attr("src",o),vimeoready_auto(e),e.addClass("haslistener").addClass("esg-vimeovideo")}catch(e){return!1}}function playVimeo(e){var t=e.data("newvimeoplayer");t&&t.play()}function prepareWs(e){var t,a="wsiframe"+Math.round(1e5*Math.random()+1);if(e.hasClass("haslistener")||"undefined"==typeof Ws)return(t=e.data("player"))!=undefined&&"function"==typeof t.playVideo;try{e.attr("id",a),t=new Ws.Player(a,{events:{onStateChange:onPlayerStateChange}}),e.data("player",t),e.addClass("haslistener").addClass("esg-wistiavideo")}catch(e){return!1}}function playWs(e){var t=e.data("player");t!=undefined&&"function"==typeof t.playVideo&&t.wistiaApi.Plau()}function prepareSoundCloud(e){var t;if(e.data("player")!=undefined||"undefined"==typeof SC)return(t=e.data("player"))!=undefined&&"function"==typeof t.getVolume;var a="sciframe"+Math.round(1e5*Math.random()+1);try{e.attr("id",a),(t=SC.Widget(a)).bind(SC.Widget.Events.PLAY,function(){stopAllVideos(!0,!1,e.attr("id")),e.addClass("isplaying"),e.removeClass("isinpause")}),t.bind(SC.Widget.Events.PAUSE,function(){e.hasClass("isplaying")&&(forceVideoInPause(e),e.removeClass("isplaying"))}),t.bind(SC.Widget.Events.FINISH,function(){forceVideoInPause(e),e.removeClass("isplaying")}),e.data("player",t),e.addClass("haslistener").addClass("esg-soundcloud")}catch(e){return!1}}function playSC(e){var t=e.data("player");t!=undefined&&"function"==typeof t.getVolume&&setTimeout(function(){t.play()},500)}function prepareVideo(e){var t;if(e.hasClass("haslistener"))try{var a=e.attr("id");return!("function"!=typeof(t=document.getElementById(a)).play||!e.hasClass("readytoplay"))}catch(e){return!1}else{var o="videoid_"+Math.round(1e5*Math.random()+1);e.attr("id",o),(t=document.getElementById(o)).oncanplay=html5vidready(t,e,o),e.addClass("haslistener").addClass("esg-htmlvideo")}}function playVideo(e){var t=e.attr("id");document.getElementById(t).play()}var esgAnimmatrix,esgItemAnimations;if("undefined"!=typeof punchgs)punchgsReady();else var punchgsTimer=setInterval(function(){"undefined"!=typeof punchgs&&(clearInterval(punchgsTimer),punchgsReady())},100);jQuery.fn.extend({tpessential:function(e){function t(){function t(e,t){mainPreparing(e,t),t.initialised="ready",jQuery("body").trigger("essentialready",e.attr("id"))}function a(){m=!1,clearInterval(w),v&&(w=setInterval(o,i.paginationAutoplayDelay))}function o(){onRightNavClick(r)}var i=e,r=jQuery(this);if(i.contPadTop=parseInt(r.css("paddingTop"),0),i.contPadBottom=parseInt(r.css("paddingBottom"),0),r==undefined)return!1;if(r.parent().css({position:"relative"}),"cobbles"==i.layout?(i.layout="even",i.evenCobbles="on"):i.evenCobbles="off","true"!=i.get&&1!=i.get){if(i.get=!0,i.filterGroupClass==undefined||0==i.filterGroupClass.length?i.filterGroupClass="#"+r.attr("id"):i.filterGroupClass="."+i.filterGroupClass,1==window.tplogs)try{console.groupCollapsed("Essential Grid  2.0.5 Initialisation on "+r.attr("id")),console.groupCollapsed("Used Options:"),console.info(e),console.groupEnd(),console.groupCollapsed("Tween Engine:")}catch(e){}if(punchgs.TweenLite==undefined){if(1==window.tplogs)try{console.error("GreenSock Engine Does not Exist!")}catch(e){}return!1}if(punchgs.force3D=!0,1==window.tplogs)try{console.info("GreenSock Engine Version in Essential Grid:"+punchgs.TweenLite.version)}catch(e){}if(punchgs.TweenLite.lagSmoothing(2e3,16),punchgs.force3D="auto",1==window.tplogs)try{console.groupEnd(),console.groupEnd()}catch(e){}jQuery("body").data("fullScreenMode",!1),jQuery(window).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",function(){jQuery("body").data("fullScreenMode",!jQuery("body").data("fullScreenMode"))}),i.esgloader=buildLoader(r.parent(),i),i.firstshowever==undefined&&jQuery(i.filterGroupClass+".esg-navigationbutton,"+i.filterGroupClass+" .esg-navigationbutton").css({visibility:"hidden"}),r.parent().append('<div class="esg-relative-placeholder" style="width:100%;height:auto"></div>'),r.wrap('<div class="esg-container-fullscreen-forcer" style="position:relative;left:0px;top:0px;width:100%;height:auto;"></div>');var n=r.parent().parent().find(".esg-relative-placeholder").offset().left;"on"!=i.forceFullWidth&&"on"!=i.forceFullScreen||r.closest(".esg-container-fullscreen-forcer").css({left:0-n,width:jQuery(window).width()}),i.animDelay=0==i.delayBasic?"off":"on",i.container=r,i.mainul=r.find("ul").first(),i.mainul.addClass("mainul").wrap('<div class="esg-overflowtrick"></div>');var s=jQuery(i.filterGroupClass+".esg-navbutton-solo-left,"+i.filterGroupClass+" .esg-navbutton-solo-left"),l=jQuery(i.filterGroupClass+".esg-navbutton-solo-right,"+i.filterGroupClass+" .esg-navbutton-solo-right");if(s.length>0&&(s.css({marginTop:0-s.height()/2}),s.appendTo(r.find(".esg-overflowtrick"))),l.length>0&&(l.css({marginTop:0-l.height()/2}),l.appendTo(r.find(".esg-overflowtrick"))),punchgs.CSSPlugin.defaultTransformPerspective=1200,i.animSpeed=i.animSpeed/1e3,i.delayBasic=i.delayBasic/100,setOptions(r,i),i.filter=i.statfilter,i.origcolumn=i.column,i.currentpage=0,r.addClass("esg-layout-"+i.layout),"even"==i.layout&&"on"==i.forceFullScreen){var u=jQuery(window).height();if(i.fullScreenOffsetContainer!=undefined)try{var d=i.fullScreenOffsetContainer.split(",");d&&jQuery.each(d,function(e,t){(u-=jQuery(t).outerHeight(!0))<i.minFullScreenHeight&&(u=i.minFullScreenHeight)})}catch(e){}var c=r.find(".esg-overflowtrick").first(),p=r.find("ul").first();c.css({display:"block",height:u+"px"}),p.css({display:"block",height:u+"px"}),r.closest(".eg-grid-wrapper, .myportfolio-container").css({height:"auto"}).removeClass("eg-startheight")}if(0!=i.googleFonts.length&&"masonry"==i.layout){var h=!0;if(jQuery("head").find("*").each(function(){jQuery(this).attr("src")!=undefined&&jQuery(this).attr("src").indexOf("webfont.js")>0&&(h=!1)}),WebFontConfig.active==undefined&&h){WebFontConfig={google:{families:i.googleFonts},active:function(){t(r,i)},inactive:function(){t(r,i)},timeout:1500};var g=document.createElement("script");g.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",g.type="text/javascript",g.async="true";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(g,f)}else t(r,i)}else t(r,i);"button"==i.loadMoreType?(r.append('<div class="esg-loadmore-wrapper" style="text-align:center"><div class="esg-navigationbutton esg-loadmore">LOAD MORE</div></div>'),i.lmbut=i.container.find(".esg-loadmore"),i.lmtxt=i.loadMoreTxt+" ("+checkMoreToLoad(i).length+")","off"==i.loadMoreNr&&(i.lmtxt=i.loadMoreTxt),i.lmbut.html(i.lmtxt),i.lmbut.click(function(){1!=i.lmbut.data("loading")&&loadMoreItems(i)}),0==checkMoreToLoad(i).length&&i.lmbut.remove()):"scroll"==i.loadMoreType&&(r.append('<div style="display:inline-block" class="esg-navigationbutton esg-loadmore">LOAD MORE</div>'),i.lmbut=i.container.find(".esg-loadmore"),i.lmtxt=i.loadMoreTxt+" ("+checkMoreToLoad(i).length+")","off"==i.loadMoreNr&&(i.lmtxt=i.loadMoreTxt),i.lmbut.html(i.lmtxt),jQuery(document,window).scroll(function(){checkBottomPos(i,!0)}),0==checkMoreToLoad(i).length&&i.lmbut.remove()),checkAvailableFilters(r,i),tabBlurringCheck(r,i)}if(jQuery("body").on("click",".esgbox",function(){var e=jQuery(this);if("filterall"===i.lightBoxMode&&e.closest(".esg-grid").find(".isvisiblenow, .fitsinfilter").find(".esgbox").attr("rel","items-"+parseInt(9999*Math.random(),10)),stopAllVideos(!0),-1!==e.attr("href").search("wistia")){var t=!e.hasClass("esgbox.iframe");if(jQuery(".esgbox").each(function(){var e=jQuery(this);e.hasClass("esgbox.iframe")||e.addClass("esgbox.iframe").attr("href",e.attr("href")+"?autoPlay=true")}),t)return e.click(),!1}else if(e.hasClass("esgbox-post")){if("#eg-lightbox-post-content"===e.attr("href"))return;return loadPostContent(e,i,!0),!1}}).on("mouseenter mouseleave",".esg-anime-item",function(e){var t=jQuery(this).find(".esg-item-anime");if(t.length){var a=e.type.replace("mouse",""),o=t.data(),r=o.anime_itm,n=o.anime_itm_other;if(n){var s=esgItemAnimations[n][a],l=jQuery.extend({},s.obj);if("enter"===a){switch(n){case"esg-item-zoomin":p=o.anime_itm_other_zoomin,isNaN(p)&&(p="100"),p=.01*parseInt(p,10),l.scale=Math.max(Math.min(p,2),0);break;case"esg-item-zoomout":p=o.anime_itm_other_zoomout,isNaN(p)&&(p="100"),p=.01*parseInt(p,10),l.scale=Math.max(Math.min(p,2),0);break;case"esg-item-fade":p=o.anime_itm_other_fade,isNaN(p)&&(p="100"),p=.01*parseInt(p,10),l.opacity=Math.max(Math.min(p,1),0);break;case"esg-item-blur":p=o.anime_itm_other_blur,isNaN(p)&&(p="5"),p=parseInt(p,10),p=Math.max(Math.min(p,30),0),l.blur=Math.max(Math.min(p,30),0),i.container.find(".isvisiblenow .esg-item-anime").not(t).each(function(){var e=jQuery(this),t=e.data("anime_blur_amount")||0,a=e.data("anime_blur");a&&(a.eventCallback("onUpdate",null),a.kill());var o={blur:t},i=jQuery.extend({},l),r=new punchgs.TweenLite(o,s.time,i);e.data("anime_blur",r),r.eventCallback("onUpdate",function(){e.data("anime_blur_amount",o.blur),punchgs.TweenLite.set(e.find(".esg-entry-media"),{msFilter:"blur("+o.blur+"px)",filter:"blur("+o.blur+"px)",webkitFilter:"blur("+o.blur+"px)"})})});break;case"esg-item-shift":c=o.anime_itm_other_shift,p=o.anime_itm_shift_other_amount,isNaN(p)&&(p="10"),p=parseInt(p,10),"up"!==c&&"right"!==c||(p*=-1),l[c="up"===c||"down"===c?"y":"x"]=Math.max(Math.min(p,200),-200);break;case"esg-item-rotate":p=o.anime_itm_other_rotate,isNaN(p)&&(p="100"),p=parseInt(p,10),l.rotation=Math.max(Math.min(p,359),-359)}}l.hasOwnProperty("blur")?"leave"===a&&i.container.find(".isvisiblenow .esg-item-anime").not(t).each(function(){var e=jQuery(this),t=e.data("anime_blur_amount");if(t){var a=e.data("anime_blur");a&&(a.eventCallback("onUpdate",null),a.kill());var o={blur:t},i=jQuery.extend({},l),r=new punchgs.TweenLite(o,s.time,i);e.data("anime_blur",r),r.eventCallback("onUpdate",function(){e.data("anime_blur_amount",o.blur),punchgs.TweenLite.set(e.find(".esg-entry-media"),{msFilter:"blur("+o.blur+"px)",filter:"blur("+o.blur+"px)",webkitFilter:"blur("+o.blur+"px)"})})}}):punchgs.TweenLite.to(i.container.find(".isvisiblenow .esg-item-anime").not(t),s.time,l)}if(r){var u=esgItemAnimations[r][a],d=jQuery.extend({},u.obj);if("enter"===a){var c,p;switch(r){case"esg-item-zoomin":p=o.anime_itm_zoomin,isNaN(p)&&(p="100"),p=.01*parseInt(p,10),d.scale=Math.max(Math.min(p,2),0);break;case"esg-item-zoomout":p=o.anime_itm_zoomout,isNaN(p)&&(p="100"),p=.01*parseInt(p,10),d.scale=Math.max(Math.min(p,2),0);break;case"esg-item-fade":p=o.anime_itm_fade,isNaN(p)&&(p="100"),p=.01*parseInt(p,10),d.opacity=Math.max(Math.min(p,1),0);break;case"esg-item-blur":p=o.anime_itm_blur,isNaN(p)&&(p="5"),p=parseInt(p,10),d.blur=Math.max(Math.min(p,30),0);var h=t.data("anime_blur_amount")||0;(m=t.data("anime_blur"))&&(m.eventCallback("onUpdate",null),m.kill());var g={blur:h},f=new punchgs.TweenLite(g,u.time,d);t.data("anime_blur",f),f.eventCallback("onUpdate",function(){t.data("anime_blur_amount",g.blur),punchgs.TweenLite.set(t.find(".esg-entry-media"),{msFilter:"blur("+g.blur+"px)",filter:"blur("+g.blur+"px)",webkitFilter:"blur("+g.blur+"px)"})});break;case"esg-item-shift":c=o.anime_itm_shift,p=o.anime_itm_shift_amount,isNaN(p)&&(p="10"),p=parseInt(p,10),"up"!==c&&"right"!==c||(p*=-1),d[c="up"===c||"down"===c?"y":"x"]=Math.max(Math.min(p,200),-200);break;case"esg-item-rotate":p=o.anime_itm_rotate,isNaN(p)&&(p="30"),p=parseInt(p,10),d.rotation=Math.max(Math.min(p,359),-359)}}if(d.hasOwnProperty("blur")){if(!(h=t.data("anime_blur_amount")))return;var m=t.data("anime_blur");m&&(m.eventCallback("onUpdate",null),m.kill());var g={blur:h},f=new punchgs.TweenLite(g,u.time,d);t.data("anime_blur",f),f.eventCallback("onUpdate",function(){t.data("anime_blur_amount",g.blur),punchgs.TweenLite.set(t.find(".esg-entry-media"),{msFilter:"blur("+g.blur+"px)",filter:"blur("+g.blur+"px)",webkitFilter:"blur("+g.blur+"px)"})})}else punchgs.TweenLite.to(t,u.time,d)}}}),"on"===i.paginationAutoplay){var m,w,v;r.on("mouseenter.esgpagination",function(){m=!0,clearInterval(w)}).on("mouseleave.esgpagination",a),r.on("essential_grid_ready_to_use",function(){r.find(".esg-pagination").length?(v=!0,m||a()):r.off(".esgpagination")})}}if(jQuery.fn.tpessential.defaults={forceFullWidth:"off",forceFullScreen:"off",fullScreenOffsetContainer:"",row:3,column:4,space:10,pageAnimation:"fade",animSpeed:600,delayBasic:.08,smartPagination:"on",paginationScrollToTop:"off",paginationScrollToTopOffset:200,layout:"even",rtl:"off",aspectratio:"auto",bgPosition:"center center",bgSize:"cover",videoJsPath:"",overflowoffset:0,mainhoverdelay:0,rowItemMultiplier:[],filterGroupClass:"",filterType:"",filterLogic:"or",showDropFilter:"hover",evenGridMasonrySkinPusher:"on",loadMoreType:"none",loadMoreItems:[],loadMoreAmount:5,loadMoreTxt:"Load More",loadMoreNr:"on",loadMoreEndTxt:"No More Items for the Selected Filter",loadMoreAjaxUrl:"",loadMoreAjaxToken:"",loadMoreAjaxAction:"",lazyLoad:"off",lazyLoadColor:"#ff0000",gridID:0,mediaFilter:"",spinner:"",spinnerColor:"",lightBoxMode:"single",cobblesPattern:"",searchInput:".faqsearch",googleFonts:"",googleFontJS:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",ajaxContentTarget:"",ajaxScrollToOnLoad:"off",ajaxScrollToOffset:100,ajaxCallback:"",ajaxCallbackArgument:"on",ajaxCssUrl:"",ajaxJsUrl:"",ajaxCloseButton:"on",ajaxNavButton:"on",ajaxCloseTxt:"Close",ajaxCloseType:"type1",ajaxClosePosition:"tr",ajaxCloseInner:"true",ajaxCloseStyle:"light",ajaxTypes:[],cookies:{search:"off",filter:"off",pagination:"off",loadmore:"off",timetosave:"30"}},e=jQuery.extend({},jQuery.fn.tpessential.defaults,e),"undefined"==typeof WebFontConfig&&(WebFontConfig={}),esgAnimmatrix)return this.each(t);var a=this,o=setInterval(function(){esgAnimmatrix&&(clearInterval(o),a.each(t))},100);return this},eslightboxpost:function(e){if(e&&e.group&&Array.isArray(e.group)&&e.hasOwnProperty("index")){var t=e.group[e.index];if(t&&t.element&&(t=t.element).length&&t.hasClass("esgbox-post")&&"#eg-lightbox-post-content"!==t.attr("href")){var a;return e.helpers&&e.helpers.title&&e.helpers.title.type&&(a=e.element.attr("data-posttitle")||e.element.attr("lgtitle")),loadPostContent(t,getOptions(jQuery(this)),!1,e.index,a),!1}}return!0},esappend:function(e){var t=jQuery(this);return prepareItemsInGrid(opt,!0),organiseGrid(opt,"esappend"),prepareSortingAndOrders(t),opt.lastslide},esskill:function(){var e=jQuery(this);e.find("*").each(function(){jQuery(this).off("click, focus, focusin, hover, play, ended, stop, pause, essentialready"),jQuery(this).remove()}),e.remove(),e.html(),e=null},esreadsettings:function(e){return e=e==undefined?{}:e,getOptions(jQuery(this))},esredraw:function(e){e=e==undefined?{}:e;var t=jQuery(this),a=getOptions(t);if(a!==undefined){if(e!=undefined){if(e.space!=undefined&&(a.space=parseInt(e.space,0)),e.row!=undefined&&(a.row=parseInt(e.row,0)),e.rtl!=undefined&&(a.rtl=e.rtl),e.aspectratio!=undefined&&(a.aspectratio=e.aspectratio),e.forceFullWidth!=undefined)if(a.forceFullWidth=e.forceFullWidth,"on"==a.forceFullWidth){var o=t.parent().parent().find(".esg-relative-placeholder").offset().left;t.closest(".esg-container-fullscreen-forcer").css({left:0-o,width:jQuery(window).width()})}else t.closest(".esg-container-fullscreen-forcer").css({left:0,width:"auto"});if(e.rowItemMultiplier!=undefined&&(a.rowItemMultiplier=e.rowItemMultiplier),e.responsiveEntries!=undefined&&(a.responsiveEntries=e.responsiveEntries),e.column!=undefined){if(e.column<=0||e.column>=20){var i=getBestFitColumn(a,jQuery(window).width(),"id");a.column=i.column,a.columnindex=i.index,a.mmHeight=i.mmHeight}else a.column=parseInt(e.column,0);a.origcolumn=a.column}e.animSpeed!=undefined&&(a.animSpeed=e.animSpeed/1e3),e.delayBasic!=undefined&&(a.delayBasic=e.delayBasic/100),e.pageAnimation!=undefined&&(a.pageAnimation=e.pageAnimation),e.changedAnim!=undefined&&(a.changedAnim=e.changedAnim),1==e.silent&&(a.silent=!0)}a.started=!0,setOptions(t,a),setItemsOnPages(a),organiseGrid(a,"esredraw")}},esquickdraw:function(e){var t=jQuery(this),a=getOptions(t);a.silent=!0,setOptions(t,a),setItemsOnPages(a),organiseGrid(a,"esquickdraw")},esreinit:function(e){var t=jQuery(this);return prepareItemsInGrid(opt,!0),organiseGrid(opt,"esreinit"),prepareSortingAndOrders(t),opt.lastslide}}),function(){var e,t,a={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in a)if(e in document){t=a[e];break}}();var tabBlurringCheck=function(){var e=document.documentMode===undefined,t=window.chrome;jQuery("body").hasClass("esg-blurlistenerexists")||(jQuery("body").addClass("esg-blurlistenerexists"),e&&!t?jQuery(window).on("focusin",function(){setTimeout(function(){jQuery("body").find(".esg-grid.esg-container").each(function(){jQuery(this).esquickdraw()})},300)}).on("focusout",function(){}):window.addEventListener?window.addEventListener("focus",function(e){setTimeout(function(){jQuery("body").find(".esg-grid.esg-container").each(function(){jQuery(this).esquickdraw()})},300)},!1):window.attachEvent("focus",function(e){setTimeout(function(){jQuery("body").find(".esg-grid.esg-container").each(function(){jQuery(this).esquickdraw()})},300)}))},is_mobile=function(){var e=["android","webos","iphone","ipad","blackberry","Android","webos","iPod","iPhone","iPad","Blackberry","BlackBerry"],t=!1;for(var a in e)navigator.userAgent.split(e[a]).length>1&&(t=!0);return t},waitForLoads=function(e,t){jQuery.each(e,function(e,a){(a=jQuery(a)).hasClass("isvisiblenow")||"add"===t.esgloaderprocess||(t.esgloaderprocess="add",punchgs.TweenLite.to(t.esgloader,.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut}))});var a=setInterval(function(){t.bannertimeronpause=!0,t.cd=0;var o=0;if(e.find(".esg-media-poster").each(function(e){var a=jQuery(this),i=(a.attr("src"),a.parent());if(1!=a.data("lazydone")&&"on"==t.lazyLoad&&i.find(".lazyloadcover").length<1){lthumb=a.data("lazythumb");var r="",n="";lthumb!=undefined&&"undefined"!==lthumb&&(a.data("lazysrc"),r=";background-image:url("+lthumb+")",n="esg-lazyblur"),r||(r=t.lazyLoadColor),i.append('<div class="lazyloadcover '+n+'" style="background:'+r+'"></div>')}1!=a.data("lazydone")&&o<3&&(o++,loadAllPrepared(jQuery(this),t)),"on"!==t.lazyLoad&&punchgs.TweenLite.set(a,{autoAlpha:1})}),0==o&&t.esgloader.length>0&&"remove"!==t.esgloaderprocess){t.esgloaderprocess="remove";var i=0;t.esgloader.hasClass("infinityscollavailable")&&(i=1),punchgs.TweenLite.to(t.esgloader,.5,{autoAlpha:0,ease:punchgs.Power3.easeInOut,delay:i})}0!=o||e.closest(".mainul").hasClass("gridorganising")||(clearInterval(a),runGrid(t))},50);runGrid(t)}}(jQuery),function(e,t){"use strict";function a(e){return e&&e.toLowerCase?e.toLowerCase():e}function o(e,t){for(var a=0,o=e.length;a<o;a++)if(e[a]==t)return!i;return i}var i=!1,r=parseFloat,n=Math.min,s=/(-?\d+\.?\d*)$/g,l=/(\d+\.?\d*)$/g,u=[],d=[],c=function(e){return"string"==typeof e},p=function(e,t){for(var a,o=e.length,i=o;i--;)t(e[a=o-i-1],a)},h=Array.prototype.indexOf||function(e){var t=this.length,a=Number(arguments[1])||0;for((a=a<0?Math.ceil(a):Math.floor(a))<0&&(a+=t);a<t;a++)if(a in this&&this[a]===e)return a;return-1};e.tinysort={id:"TinySort",version:"1.5.6",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var e=function(e,t){u.push(e),d.push(t)};return e.indexOf=h,e}(),defaults:{order:"asc",attr:null,data:null,useVal:i,place:"start",returns:i,cases:i,forceStrings:i,ignoreDashes:i,sortFunction:null}},e.fn.extend({tinysort:function(){var t,g,f,m,w=this,v=[],y=[],b=[],x=[],j=0,C=[],k=[],A=function(e){p(u,function(t){t.call(t,e)})},O=function(e,t){return"string"==typeof t&&(e.cases||(t=a(t)),t=t.replace(/^\s*(.*?)\s*$/i,"$1")),t},T=function(e,t){var a=0;for(0!==j&&(j=0);0===a&&j<m;){var o=x[j],n=o.oSettings,u=n.ignoreDashes?l:s;if(A(n),n.sortFunction)a=n.sortFunction(e,t);else if("rand"==n.order)a=Math.random()<.5?1:-1;else{var h=i,g=O(n,e.s[j]),f=O(n,t.s[j]);if(!n.forceStrings){var w=c(g)?g&&g.match(u):i,v=c(f)?f&&f.match(u):i;w&&v&&g.substr(0,g.length-w[0].length)==f.substr(0,f.length-v[0].length)&&(h=!i,g=r(w[0]),f=r(v[0]))}a=o.iAsc*(g<f?-1:g>f?1:0)}p(d,function(e){a=e.call(e,h,g,f,a)}),0===a&&j++}return a};for(t=0,f=arguments.length;t<f;t++){var P=arguments[t];c(P)?C.push(P)-1>k.length&&(k.length=C.length-1):k.push(P)>C.length&&(C.length=k.length)}for(C.length>k.length&&(k.length=C.length),0===(m=C.length)&&(m=C.length=1,k.push({})),t=0,f=m;t<f;t++){var Q=C[t],I=e.extend({},e.tinysort.defaults,k[t]),L=!(!Q||""===Q),z=L&&":"===Q[0];x.push({sFind:Q,oSettings:I,bFind:L,bAttr:!(null===I.attr||""===I.attr),bData:null!==I.data,bFilter:z,$Filter:z?w.filter(Q):w,fnSort:I.sortFunction,iAsc:"asc"==I.order?1:-1})}return w.each(function(t,a){var o,i=e(a),r=i.parent().get(0),n=[];for(g=0;g<m;g++){var s=x[g],l=s.bFind?s.bFilter?s.$Filter.filter(a):i.find(s.sFind):i;n.push(s.bData?l.data(s.oSettings.data):s.bAttr?l.attr(s.oSettings.attr):s.oSettings.useVal?l.val():l.text()),void 0===o&&(o=l)}var u=h.call(b,r);u<0&&(u=b.push(r)-1,y[u]={s:[],n:[]}),o.length>0?y[u].s.push({s:n,e:i,n:t}):y[u].n.push({e:i,n:t})}),p(y,function(e){e.s.sort(T)}),p(y,function(e){var a=e.s,r=e.n,s=a.length,l=r.length,u=s+l,d=[],c=u,h=[0,0];switch(I.place){case"first":p(a,function(e){c=n(c,e.n)});break;case"org":p(a,function(e){d.push(e.n)});break;case"end":c=l;break;default:c=0}for(t=0;t<u;t++){var g=o(d,t)?!i:t>=c&&t<c+s,f=g?0:1,m=(g?a:r)[h[f]].e;m.parent().append(m),!g&&I.returns||v.push(m.get(0)),h[f]++}}),w.length=0,Array.prototype.push.apply(w,v),w}}),e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort}(jQuery);
